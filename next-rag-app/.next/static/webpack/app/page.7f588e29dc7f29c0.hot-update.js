"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./components/chat/chat-interface.tsx":
/*!********************************************!*\
  !*** ./components/chat/chat-interface.tsx ***!
  \********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatInterface: function() { return /* binding */ ChatInterface; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _src_context_AuthContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/src/context/AuthContext */ \"(app-pages-browser)/./src/context/AuthContext.tsx\");\n/* harmony import */ var _barrel_optimize_names_Copy_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=Copy!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/copy.js\");\n/* harmony import */ var _radix_ui_react_toast__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @radix-ui/react-toast */ \"(app-pages-browser)/./node_modules/@radix-ui/react-toast/dist/index.mjs\");\n/* harmony import */ var _message_renderer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./message-renderer */ \"(app-pages-browser)/./components/chat/message-renderer.tsx\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_CheckCircle_FileText_Globe_Loader2_Maximize2_Minimize2_Paperclip_Search_Send_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,CheckCircle,FileText,Globe,Loader2,Maximize2,Minimize2,Paperclip,Search,Send,Upload,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/file-text.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_CheckCircle_FileText_Globe_Loader2_Maximize2_Minimize2_Paperclip_Search_Send_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,CheckCircle,FileText,Globe,Loader2,Maximize2,Minimize2,Paperclip,Search,Send,Upload,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/globe.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_CheckCircle_FileText_Globe_Loader2_Maximize2_Minimize2_Paperclip_Search_Send_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,CheckCircle,FileText,Globe,Loader2,Maximize2,Minimize2,Paperclip,Search,Send,Upload,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/search.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_CheckCircle_FileText_Globe_Loader2_Maximize2_Minimize2_Paperclip_Search_Send_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,CheckCircle,FileText,Globe,Loader2,Maximize2,Minimize2,Paperclip,Search,Send,Upload,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/upload.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_CheckCircle_FileText_Globe_Loader2_Maximize2_Minimize2_Paperclip_Search_Send_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,CheckCircle,FileText,Globe,Loader2,Maximize2,Minimize2,Paperclip,Search,Send,Upload,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_CheckCircle_FileText_Globe_Loader2_Maximize2_Minimize2_Paperclip_Search_Send_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,CheckCircle,FileText,Globe,Loader2,Maximize2,Minimize2,Paperclip,Search,Send,Upload,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/circle-alert.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_CheckCircle_FileText_Globe_Loader2_Maximize2_Minimize2_Paperclip_Search_Send_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,CheckCircle,FileText,Globe,Loader2,Maximize2,Minimize2,Paperclip,Search,Send,Upload,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/circle-check-big.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_CheckCircle_FileText_Globe_Loader2_Maximize2_Minimize2_Paperclip_Search_Send_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,CheckCircle,FileText,Globe,Loader2,Maximize2,Minimize2,Paperclip,Search,Send,Upload,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_CheckCircle_FileText_Globe_Loader2_Maximize2_Minimize2_Paperclip_Search_Send_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,CheckCircle,FileText,Globe,Loader2,Maximize2,Minimize2,Paperclip,Search,Send,Upload,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/minimize-2.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_CheckCircle_FileText_Globe_Loader2_Maximize2_Minimize2_Paperclip_Search_Send_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,CheckCircle,FileText,Globe,Loader2,Maximize2,Minimize2,Paperclip,Search,Send,Upload,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/maximize-2.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_CheckCircle_FileText_Globe_Loader2_Maximize2_Minimize2_Paperclip_Search_Send_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,CheckCircle,FileText,Globe,Loader2,Maximize2,Minimize2,Paperclip,Search,Send,Upload,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/paperclip.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_CheckCircle_FileText_Globe_Loader2_Maximize2_Minimize2_Paperclip_Search_Send_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,CheckCircle,FileText,Globe,Loader2,Maximize2,Minimize2,Paperclip,Search,Send,Upload,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/send.js\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./components/ui/button.tsx\");\n/* harmony import */ var _components_ui_textarea__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ui/textarea */ \"(app-pages-browser)/./components/ui/textarea.tsx\");\n/* harmony import */ var _components_ui_card__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/ui/card */ \"(app-pages-browser)/./components/ui/card.tsx\");\n/* harmony import */ var _components_ui_badge__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/ui/badge */ \"(app-pages-browser)/./components/ui/badge.tsx\");\n/* harmony import */ var _components_ui_collapsible__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/ui/collapsible */ \"(app-pages-browser)/./components/ui/collapsible.tsx\");\n/* __next_internal_client_entry_do_not_use__ ChatInterface auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n// Helper to format message for copying (plain text + optional metadata)\nfunction formatMessageForCopy(message) {\n    let text = message.content;\n    if (message.citations && message.citations.length > 0) {\n        text += \"\\n\\nSources:\";\n        for (const c of message.citations){\n            text += \"\\n- \".concat(c.title, \" (\").concat(c.source, \")\").concat(c.score ? \" [\".concat((c.score * 100).toFixed(0), \"% match]\") : \"\");\n        }\n    }\n    text += \"\\n\\nTimestamp: \".concat(message.timestamp.toLocaleString());\n    return text;\n}\n// Copy to clipboard with fallback\nasync function copyToClipboard(text) {\n    if (navigator.clipboard) {\n        await navigator.clipboard.writeText(text);\n    } else {\n        // Fallback for older browsers\n        const textarea = document.createElement(\"textarea\");\n        textarea.value = text;\n        document.body.appendChild(textarea);\n        textarea.select();\n        document.execCommand(\"copy\");\n        document.body.removeChild(textarea);\n    }\n}\n\n\n\n\n\n\nconst ALLOWED_EXTENSIONS = [\n    \".txt\",\n    \".log\",\n    \".csv\",\n    \".json\",\n    \".sql\",\n    \".pdf\",\n    \".xml\",\n    \".conf\",\n    \".config\",\n    \".ini\",\n    \".properties\",\n    \".out\",\n    \".err\",\n    \".trace\",\n    \".dump\",\n    \".png\",\n    \".jpg\",\n    \".jpeg\",\n    \".gif\",\n    \".bmp\",\n    \".tiff\",\n    \".webp\"\n];\nconst MAX_FILE_SIZE = 10 * 1024 * 1024 // 10MB\n;\nfunction ChatInterface(param) {\n    let { conversationId, onConversationCreated, onConversationActivity } = param;\n    _s();\n    const { accessToken } = (0,_src_context_AuthContext__WEBPACK_IMPORTED_MODULE_2__.useAuth)();\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [input, setInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [uploadedFile, setUploadedFile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isUploading, setIsUploading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [uploadError, setUploadError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isDragOver, setIsDragOver] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [inputExpanded, setInputExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const fileInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const chatContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const scrollToBottom = ()=>{\n        var _messagesEndRef_current;\n        (_messagesEndRef_current = messagesEndRef.current) === null || _messagesEndRef_current === void 0 ? void 0 : _messagesEndRef_current.scrollIntoView({\n            behavior: \"smooth\"\n        });\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        scrollToBottom();\n    }, [\n        messages\n    ]);\n    const [historyLoading, setHistoryLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [historyError, setHistoryError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Handle conversation changes - load history for existing conversations\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let cancelled = false;\n        const loadHistory = async (id)=>{\n            if (!accessToken) {\n                setHistoryError(\"Authentication required to load conversation.\");\n                setMessages([]);\n                return;\n            }\n            try {\n                setHistoryLoading(true);\n                setHistoryError(null);\n                const response = await fetch(\"/api/conversations/\".concat(id), {\n                    headers: {\n                        Authorization: \"Bearer \".concat(accessToken)\n                    },\n                    cache: \"no-store\"\n                });\n                if (!response.ok) {\n                    if (response.status === 404) {\n                        setHistoryError(\"Conversation not found.\");\n                        setMessages([]);\n                        return;\n                    }\n                    const detail = await response.text().catch(()=>\"\");\n                    throw new Error(detail || \"Failed to load conversation (status \".concat(response.status, \")\"));\n                }\n                const data = await response.json();\n                if (cancelled) return;\n                const mapped = Array.isArray(data === null || data === void 0 ? void 0 : data.messages) ? data.messages.map((msg)=>{\n                    var _msg_content, _msg_searchType, _msg_createdAt, _ref;\n                    return {\n                        id: String(msg.id),\n                        role: msg.role === \"assistant\" ? \"assistant\" : \"user\",\n                        content: (_msg_content = msg.content) !== null && _msg_content !== void 0 ? _msg_content : \"\",\n                        citations: Array.isArray(msg.citations) ? msg.citations : undefined,\n                        searchType: (_msg_searchType = msg.searchType) !== null && _msg_searchType !== void 0 ? _msg_searchType : msg.method,\n                        timestamp: new Date((_ref = (_msg_createdAt = msg.createdAt) !== null && _msg_createdAt !== void 0 ? _msg_createdAt : msg.created_at) !== null && _ref !== void 0 ? _ref : new Date().toISOString())\n                    };\n                }) : [];\n                setMessages(mapped);\n                setUploadedFile(null);\n                setUploadError(null);\n            } catch (error) {\n                if (!cancelled) {\n                    console.error(\"Failed to load conversation history:\", error);\n                    setHistoryError(\"Unable to load conversation history.\");\n                    setMessages([]);\n                }\n            } finally{\n                if (!cancelled) {\n                    setHistoryLoading(false);\n                }\n            }\n        };\n        if (conversationId === undefined) {\n            setMessages([]);\n            setInput(\"\");\n            setUploadedFile(null);\n            setUploadError(null);\n            setHistoryError(null);\n            setHistoryLoading(false);\n        } else {\n            loadHistory(conversationId);\n        }\n        return ()=>{\n            cancelled = true;\n        };\n    }, [\n        conversationId,\n        accessToken\n    ]);\n    const validateFile = (file)=>{\n        if (file.size > MAX_FILE_SIZE) {\n            return \"File size exceeds \".concat(MAX_FILE_SIZE / 1024 / 1024, \"MB limit\");\n        }\n        const extension = file.name.toLowerCase().substring(file.name.lastIndexOf(\".\"));\n        if (!ALLOWED_EXTENSIONS.includes(extension)) {\n            return \"File type not supported. Allowed: \".concat(ALLOWED_EXTENSIONS.join(\", \"));\n        }\n        return null;\n    };\n    const handleFileUpload = async (file)=>{\n        const validationError = validateFile(file);\n        if (validationError) {\n            setUploadError(validationError);\n            return;\n        }\n        setIsUploading(true);\n        setUploadError(null);\n        try {\n            const formData = new FormData();\n            formData.append(\"file\", file);\n            const response = await fetch(\"/api/temp-upload\", {\n                method: \"POST\",\n                body: formData,\n                headers: accessToken ? {\n                    Authorization: \"Bearer \".concat(accessToken)\n                } : undefined\n            });\n            const result = await response.json();\n            if (!result.success) {\n                throw new Error(result.error || \"Upload failed\");\n            }\n            const uploadedFile = {\n                sessionId: result.sessionId,\n                fileName: result.fileName,\n                fileSize: result.fileSize,\n                uploadTime: new Date().toISOString()\n            };\n            setUploadedFile(uploadedFile);\n            // Add a system message about the upload\n            const systemMessage = {\n                id: Date.now().toString(),\n                role: \"assistant\",\n                content: \"✅ **File uploaded successfully:** \".concat(file.name, \" (\").concat(formatFileSize(file.size), \")\\n\\nYou can now ask questions about this document. I'll analyze its content to provide specific insights and troubleshooting assistance.\"),\n                searchType: \"temp-doc\",\n                uploadedFile: uploadedFile,\n                timestamp: new Date()\n            };\n            setMessages((prev)=>[\n                    ...prev,\n                    systemMessage\n                ]);\n        } catch (error) {\n            console.error(\"Upload error:\", error);\n            setUploadError(error instanceof Error ? error.message : \"Upload failed\");\n        } finally{\n            setIsUploading(false);\n        }\n    };\n    const handleFileSelect = (event)=>{\n        const files = event.target.files;\n        if (files && files.length > 0) {\n            handleFileUpload(files[0]);\n        }\n    };\n    const clearUploadedFile = ()=>{\n        setUploadedFile(null);\n        setUploadError(null);\n        if (fileInputRef.current) {\n            fileInputRef.current.value = \"\";\n        }\n    };\n    const formatFileSize = (bytes)=>{\n        if (bytes === 0) return \"0 Bytes\";\n        const k = 1024;\n        const sizes = [\n            \"Bytes\",\n            \"KB\",\n            \"MB\"\n        ];\n        const i = Math.floor(Math.log(bytes) / Math.log(k));\n        return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + \" \" + sizes[i];\n    };\n    // Drag and drop handlers\n    const handleDragEnter = (e)=>{\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragOver(true);\n    };\n    const handleDragLeave = (e)=>{\n        var _chatContainerRef_current;\n        e.preventDefault();\n        e.stopPropagation();\n        // Only set isDragOver to false if we're leaving the chat container\n        if (!((_chatContainerRef_current = chatContainerRef.current) === null || _chatContainerRef_current === void 0 ? void 0 : _chatContainerRef_current.contains(e.relatedTarget))) {\n            setIsDragOver(false);\n        }\n    };\n    const handleDragOver = (e)=>{\n        e.preventDefault();\n        e.stopPropagation();\n    };\n    const handleDrop = (e)=>{\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragOver(false);\n        const files = e.dataTransfer.files;\n        if (files && files.length > 0) {\n            handleFileUpload(files[0]);\n        }\n    };\n    // Toast state for copy feedback\n    const [toastOpen, setToastOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [toastMsg, setToastMsg] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Add global drag event listeners to detect drag enter/leave\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleGlobalDragEnter = (e)=>{\n            var _e_dataTransfer;\n            if ((_e_dataTransfer = e.dataTransfer) === null || _e_dataTransfer === void 0 ? void 0 : _e_dataTransfer.types.includes(\"Files\")) {\n                setIsDragOver(true);\n            }\n        };\n        const handleGlobalDragLeave = (e)=>{\n            // Only hide drag overlay if we're leaving the window\n            if (e.clientX === 0 && e.clientY === 0) {\n                setIsDragOver(false);\n            }\n        };\n        document.addEventListener(\"dragenter\", handleGlobalDragEnter);\n        document.addEventListener(\"dragleave\", handleGlobalDragLeave);\n        return ()=>{\n            document.removeEventListener(\"dragenter\", handleGlobalDragEnter);\n            document.removeEventListener(\"dragleave\", handleGlobalDragLeave);\n        };\n    }, []);\n    const handleSubmit = async (e)=>{\n        e.preventDefault();\n        const rawInput = input.trim();\n        if (!rawInput || isLoading) return;\n        if (!accessToken) {\n            setToastMsg(\"Please sign in to chat.\");\n            setToastOpen(true);\n            return;\n        }\n        const commandMatch = rawInput.match(/^\\/(new|update|close)\\s+case\\s+(.+)$/i);\n        let displayContent = rawInput;\n        let outboundContent = rawInput;\n        if (commandMatch) {\n            const action = commandMatch[1].toLowerCase();\n            const caseNumber = commandMatch[2].trim();\n            if (!caseNumber) {\n                setToastMsg(\"Please provide a case number, e.g. /new case 01125052\");\n                setToastOpen(true);\n                return;\n            }\n            if (action === \"new\") {\n                displayContent = \"\\uD83D\\uDCC4 Initiating Salesforce case \".concat(caseNumber);\n                outboundContent = \"You are assisting with Salesforce case \".concat(caseNumber, \". Using the conversation context, define the case for analysis and recommendation by providing:\\n- A concise case overview with important facts known so far.\\n- Immediate diagnostic or triage steps to perform.\\n- Clarifying questions that should be asked of the customer.\\n- Recommended next actions for engineering/support teams.\\nReturn the response with headings: Case Overview, Immediate Actions, Clarifying Questions, Recommended Next Steps.\");\n            } else if (action === \"update\") {\n                displayContent = \"\\uD83D\\uDEE0️ Updating Salesforce case \".concat(caseNumber);\n                outboundContent = \"You are providing an update on Salesforce case \".concat(caseNumber, \". Review the conversation context and produce:\\n- The current status/progress of the case.\\n- Outstanding issues or blockers.\\n- Recommended next steps for the support engineer.\\n- Suggested customer communication points.\\nReturn the response with headings: Case Status, Outstanding Items, Recommended Actions, Customer Communication.\");\n            } else if (action === \"close\") {\n                displayContent = \"✅ Closing Salesforce case \".concat(caseNumber);\n                outboundContent = \"You are preparing to close Salesforce case \".concat(caseNumber, \". Based on the conversation context, provide:\\n- A brief incident summary.\\n- Actions taken and resolutions applied.\\n- Verification steps or final checks completed/needed.\\n- Final closing comments for the customer.\\nReturn the response with headings: Summary, Actions Taken, Verification, Closing Comments.\");\n            }\n        }\n        const userMessage = {\n            id: Date.now().toString(),\n            role: \"user\",\n            content: displayContent,\n            uploadedFile: uploadedFile || undefined,\n            timestamp: new Date()\n        };\n        setMessages((prev)=>[\n                ...prev,\n                userMessage\n            ]);\n        const currentInput = outboundContent;\n        setInput(\"\");\n        setIsLoading(true);\n        try {\n            var _response_body;\n            // If there's an uploaded file, analyze it using temp-analyze endpoint\n            if (uploadedFile) {\n                var _result_results;\n                const response = await fetch(\"/api/temp-analyze\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                        ...accessToken ? {\n                            Authorization: \"Bearer \".concat(accessToken)\n                        } : {}\n                    },\n                    body: JSON.stringify({\n                        sessionId: uploadedFile.sessionId,\n                        query: currentInput,\n                        maxResults: 5\n                    })\n                });\n                if (!response.ok) {\n                    throw new Error(\"HTTP error! status: \".concat(response.status));\n                }\n                const result = await response.json();\n                const assistantMessage = {\n                    id: (Date.now() + 1).toString(),\n                    role: \"assistant\",\n                    content: result.response,\n                    citations: (_result_results = result.results) === null || _result_results === void 0 ? void 0 : _result_results.map((r, idx)=>({\n                            id: \"temp-\".concat(idx),\n                            title: \"Section \".concat(r.rank),\n                            content: r.content,\n                            source: uploadedFile.fileName,\n                            score: r.similarity\n                        })),\n                    searchType: \"temp-doc\",\n                    timestamp: new Date()\n                };\n                setMessages((prev)=>[\n                        ...prev,\n                        assistantMessage\n                    ]);\n                return;\n            }\n            // Regular chat without uploaded file\n            const response = await fetch(\"/api/chat\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    Authorization: \"Bearer \".concat(accessToken)\n                },\n                body: JSON.stringify({\n                    conversationId,\n                    message: currentInput,\n                    displayMessage: userMessage.content\n                })\n            });\n            if (!response.ok) {\n                throw new Error(\"HTTP error! status: \".concat(response.status));\n            }\n            const reader = (_response_body = response.body) === null || _response_body === void 0 ? void 0 : _response_body.getReader();\n            if (!reader) throw new Error(\"No response body\");\n            let assistantMessage = {\n                id: (Date.now() + 1).toString(),\n                role: \"assistant\",\n                content: \"\",\n                timestamp: new Date()\n            };\n            let resolvedConversationId = conversationId;\n            setMessages((prev)=>[\n                    ...prev,\n                    assistantMessage\n                ]);\n            while(true){\n                const { done, value } = await reader.read();\n                if (done) break;\n                const chunk = new TextDecoder().decode(value);\n                const lines = chunk.split(\"\\n\");\n                for (const line of lines){\n                    if (line.startsWith(\"data: \")) {\n                        try {\n                            const data = JSON.parse(line.slice(6));\n                            if (data.type === \"token\") {\n                                // Handle streaming tokens from the backend\n                                setMessages((prev)=>prev.map((m)=>m.id === assistantMessage.id ? {\n                                            ...m,\n                                            content: m.content + data.token\n                                        } : m));\n                            } else if (data.type === \"sources\") {\n                                // Handle sources/citations\n                                setMessages((prev)=>prev.map((m)=>m.id === assistantMessage.id ? {\n                                            ...m,\n                                            citations: data.sources,\n                                            searchType: data.method\n                                        } : m));\n                            } else if (data.type === \"conversation_id\") {\n                                if (typeof data.conversationId === \"number\") {\n                                    resolvedConversationId = data.conversationId;\n                                    if (conversationId === undefined) {\n                                        onConversationCreated === null || onConversationCreated === void 0 ? void 0 : onConversationCreated(data.conversationId);\n                                    }\n                                }\n                            } else if (data.type === \"done\") {\n                                // Streaming completed\n                                console.log(\"Streaming completed\");\n                            } else if (data.type === \"error\") {\n                                console.error(\"Streaming error:\", data.error);\n                            }\n                        } catch (e) {\n                            // Ignore malformed JSON\n                            console.warn(\"Failed to parse streaming data:\", line);\n                        }\n                    }\n                }\n            }\n            if (resolvedConversationId !== undefined) {\n                onConversationActivity === null || onConversationActivity === void 0 ? void 0 : onConversationActivity(resolvedConversationId);\n            }\n        } catch (error) {\n            console.error(\"Chat error:\", error);\n            const errorMessage = {\n                id: (Date.now() + 1).toString(),\n                role: \"assistant\",\n                content: \"Sorry, I encountered an error. Please try again.\",\n                timestamp: new Date()\n            };\n            setMessages((prev)=>[\n                    ...prev,\n                    errorMessage\n                ]);\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const getSearchIcon = (searchType)=>{\n        switch(searchType){\n            case \"documents\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_FileText_Globe_Loader2_Maximize2_Minimize2_Paperclip_Search_Send_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                    className: \"h-3 w-3\"\n                }, void 0, false, {\n                    fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                    lineNumber: 515,\n                    columnNumber: 32\n                }, this);\n            case \"web\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_FileText_Globe_Loader2_Maximize2_Minimize2_Paperclip_Search_Send_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                    className: \"h-3 w-3\"\n                }, void 0, false, {\n                    fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                    lineNumber: 516,\n                    columnNumber: 26\n                }, this);\n            case \"hybrid\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_FileText_Globe_Loader2_Maximize2_Minimize2_Paperclip_Search_Send_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                    className: \"h-3 w-3\"\n                }, void 0, false, {\n                    fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                    lineNumber: 517,\n                    columnNumber: 29\n                }, this);\n            case \"temp-doc\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_FileText_Globe_Loader2_Maximize2_Minimize2_Paperclip_Search_Send_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                    className: \"h-3 w-3\"\n                }, void 0, false, {\n                    fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                    lineNumber: 518,\n                    columnNumber: 31\n                }, this);\n            default:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_FileText_Globe_Loader2_Maximize2_Minimize2_Paperclip_Search_Send_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                    className: \"h-3 w-3\"\n                }, void 0, false, {\n                    fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                    lineNumber: 519,\n                    columnNumber: 23\n                }, this);\n        }\n    };\n    const getSearchLabel = (searchType)=>{\n        switch(searchType){\n            case \"documents\":\n                return \"Document Search\";\n            case \"web\":\n                return \"Web Search\";\n            case \"hybrid\":\n                return \"Hybrid Search\";\n            case \"temp-doc\":\n                return \"Uploaded Document\";\n            default:\n                return \"Search\";\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: chatContainerRef,\n        className: \"flex h-full min-h-0 flex-col relative\",\n        onDragEnter: handleDragEnter,\n        onDragLeave: handleDragLeave,\n        onDragOver: handleDragOver,\n        onDrop: handleDrop,\n        children: [\n            isDragOver && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 z-50 bg-blue-500/10 backdrop-blur-sm flex items-center justify-center border-2 border-dashed border-blue-500\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center p-8 bg-white/90 rounded-lg shadow-lg\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_FileText_Globe_Loader2_Maximize2_Minimize2_Paperclip_Search_Send_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                            className: \"h-12 w-12 mx-auto text-blue-500 mb-4\"\n                        }, void 0, false, {\n                            fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                            lineNumber: 546,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-xl font-semibold text-blue-900 mb-2\",\n                            children: \"Drop file to analyze\"\n                        }, void 0, false, {\n                            fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                            lineNumber: 547,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-blue-700\",\n                            children: \"Supports logs, configs, PDFs, images, and more\"\n                        }, void 0, false, {\n                            fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                            lineNumber: 548,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-sm text-blue-600 mt-2\",\n                            children: \"AI will analyze your document with Technical Service Assistant expertise\"\n                        }, void 0, false, {\n                            fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                            lineNumber: 551,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                    lineNumber: 545,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                lineNumber: 544,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 min-h-0 overflow-y-auto p-4 space-y-4\",\n                children: [\n                    historyLoading && messages.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center text-muted-foreground py-8\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_FileText_Globe_Loader2_Maximize2_Minimize2_Paperclip_Search_Send_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                className: \"h-10 w-10 mx-auto mb-4 animate-spin\"\n                            }, void 0, false, {\n                                fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                lineNumber: 562,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: \"Loading conversation...\"\n                            }, void 0, false, {\n                                fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                lineNumber: 563,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                        lineNumber: 561,\n                        columnNumber: 11\n                    }, this) : historyError && messages.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center text-red-500 py-8\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_FileText_Globe_Loader2_Maximize2_Minimize2_Paperclip_Search_Send_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                className: \"h-10 w-10 mx-auto mb-4\"\n                            }, void 0, false, {\n                                fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                lineNumber: 567,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: historyError\n                            }, void 0, false, {\n                                fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                lineNumber: 568,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                        lineNumber: 566,\n                        columnNumber: 11\n                    }, this) : messages.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center text-muted-foreground py-8\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_FileText_Globe_Loader2_Maximize2_Minimize2_Paperclip_Search_Send_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                className: \"h-12 w-12 mx-auto mb-4 opacity-50\"\n                            }, void 0, false, {\n                                fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                lineNumber: 572,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-lg font-medium mb-2\",\n                                children: \"Start a conversation\"\n                            }, void 0, false, {\n                                fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                lineNumber: 573,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: \"Ask questions about your documents or any topic.\"\n                            }, void 0, false, {\n                                fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                lineNumber: 574,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                        lineNumber: 571,\n                        columnNumber: 11\n                    }, this) : null,\n                    messages.map((message)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex \".concat(message.role === \"user\" ? \"justify-end\" : \"justify-start\"),\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"max-w-[80%] \".concat(message.role === \"user\" ? \"bg-primary text-primary-foreground\" : \"bg-muted\", \" rounded-lg p-4 relative\"),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_message_renderer__WEBPACK_IMPORTED_MODULE_3__.MessageRenderer, {\n                                        content: message.content\n                                    }, void 0, false, {\n                                        fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                        lineNumber: 581,\n                                        columnNumber: 16\n                                    }, this),\n                                    message.role === \"assistant\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"absolute top-2 right-2 p-1 rounded hover:bg-accent focus:outline-none focus:ring\",\n                                        title: \"Copy response\",\n                                        \"aria-label\": \"Copy response\",\n                                        \"data-testid\": \"copy-btn\",\n                                        onClick: async ()=>{\n                                            try {\n                                                await copyToClipboard(formatMessageForCopy(message));\n                                                setToastMsg(\"Copied to clipboard!\");\n                                                setToastOpen(true);\n                                            } catch (e) {\n                                                setToastMsg(\"Copy failed\");\n                                                setToastOpen(true);\n                                            }\n                                        },\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Copy_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                            className: \"h-4 w-4 text-muted-foreground\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                            lineNumber: 600,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                        lineNumber: 584,\n                                        columnNumber: 17\n                                    }, this),\n                                    message.citations && message.citations.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-3 pt-3 border-t border-border/20\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-2 mb-2\",\n                                                children: [\n                                                    getSearchIcon(message.searchType),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs font-medium\",\n                                                        children: getSearchLabel(message.searchType)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                                        lineNumber: 607,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_7__.Badge, {\n                                                        variant: \"secondary\",\n                                                        className: \"text-xs\",\n                                                        children: [\n                                                            message.citations.length,\n                                                            \" source\",\n                                                            message.citations.length !== 1 ? \"s\" : \"\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                                        lineNumber: 608,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                                lineNumber: 605,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_collapsible__WEBPACK_IMPORTED_MODULE_8__.Collapsible, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_collapsible__WEBPACK_IMPORTED_MODULE_8__.CollapsibleTrigger, {\n                                                        className: \"text-xs text-muted-foreground hover:text-foreground transition-colors\",\n                                                        children: \"Show sources ↓\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                                        lineNumber: 613,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_collapsible__WEBPACK_IMPORTED_MODULE_8__.CollapsibleContent, {\n                                                        className: \"mt-2 space-y-2\",\n                                                        children: message.citations.map((citation, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.Card, {\n                                                                className: \"text-xs\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_6__.CardContent, {\n                                                                    className: \"p-3\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"font-medium mb-1\",\n                                                                            children: citation.title\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                                                            lineNumber: 620,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-muted-foreground mb-2 line-clamp-2\",\n                                                                            children: citation.content\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                                                            lineNumber: 621,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"flex justify-between items-center\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                    className: \"text-muted-foreground\",\n                                                                                    children: citation.source\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                                                                    lineNumber: 625,\n                                                                                    columnNumber: 31\n                                                                                }, this),\n                                                                                citation.score && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_7__.Badge, {\n                                                                                    variant: \"outline\",\n                                                                                    children: [\n                                                                                        (citation.score * 100).toFixed(0),\n                                                                                        \"% match\"\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                                                                    lineNumber: 627,\n                                                                                    columnNumber: 33\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                                                            lineNumber: 624,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                                                    lineNumber: 619,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            }, idx, false, {\n                                                                fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                                                lineNumber: 618,\n                                                                columnNumber: 25\n                                                            }, this))\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                                        lineNumber: 616,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                                lineNumber: 612,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                        lineNumber: 604,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                lineNumber: 580,\n                                columnNumber: 14\n                            }, this)\n                        }, message.id, false, {\n                            fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                            lineNumber: 579,\n                            columnNumber: 11\n                        }, this)),\n                    historyLoading && messages.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center text-xs text-muted-foreground\",\n                        children: \"Updating conversation…\"\n                    }, void 0, false, {\n                        fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                        lineNumber: 643,\n                        columnNumber: 11\n                    }, this),\n                    isLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex justify-start\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-muted rounded-lg p-4\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_FileText_Globe_Loader2_Maximize2_Minimize2_Paperclip_Search_Send_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                className: \"h-4 w-4 animate-spin\"\n                            }, void 0, false, {\n                                fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                lineNumber: 649,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                            lineNumber: 648,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                        lineNumber: 647,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: messagesEndRef\n                    }, void 0, false, {\n                        fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                        lineNumber: 654,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                lineNumber: 559,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"border-t bg-background p-4\",\n                children: [\n                    uploadedFile && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mb-3 p-3 bg-green-50 border border-green-200 rounded-lg flex items-center justify-between\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_FileText_Globe_Loader2_Maximize2_Minimize2_Paperclip_Search_Send_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                        className: \"h-4 w-4 text-green-500\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                        lineNumber: 663,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"font-medium text-green-900\",\n                                                children: uploadedFile.fileName\n                                            }, void 0, false, {\n                                                fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                                lineNumber: 665,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-sm text-green-600 ml-2\",\n                                                children: [\n                                                    \"(\",\n                                                    formatFileSize(uploadedFile.fileSize),\n                                                    \")\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                                lineNumber: 666,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                        lineNumber: 664,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                lineNumber: 662,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                variant: \"ghost\",\n                                size: \"sm\",\n                                onClick: clearUploadedFile,\n                                className: \"text-green-700 hover:text-green-800\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_FileText_Globe_Loader2_Maximize2_Minimize2_Paperclip_Search_Send_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                    className: \"h-4 w-4\"\n                                }, void 0, false, {\n                                    fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                    lineNumber: 675,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                lineNumber: 669,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                        lineNumber: 661,\n                        columnNumber: 11\n                    }, this),\n                    uploadError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mb-3 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_FileText_Globe_Loader2_Maximize2_Minimize2_Paperclip_Search_Send_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                className: \"h-4 w-4 text-red-500 mt-0.5\"\n                            }, void 0, false, {\n                                fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                lineNumber: 682,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"font-medium text-red-900\",\n                                        children: \"Upload Error\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                        lineNumber: 684,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-sm text-red-600\",\n                                        children: uploadError\n                                    }, void 0, false, {\n                                        fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                        lineNumber: 685,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                lineNumber: 683,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                variant: \"ghost\",\n                                size: \"sm\",\n                                onClick: ()=>setUploadError(null),\n                                className: \"text-red-700 hover:text-red-800 ml-auto\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_FileText_Globe_Loader2_Maximize2_Minimize2_Paperclip_Search_Send_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                    className: \"h-4 w-4\"\n                                }, void 0, false, {\n                                    fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                    lineNumber: 693,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                lineNumber: 687,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                        lineNumber: 681,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                        onSubmit: handleSubmit,\n                        className: \"space-y-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-between text-xs text-muted-foreground\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"Press Enter to send, Shift+Enter for a new line.\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                        lineNumber: 700,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-2\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                            type: \"button\",\n                                            variant: \"ghost\",\n                                            size: \"icon\",\n                                            onClick: ()=>setInputExpanded((prev)=>!prev),\n                                            className: \"text-muted-foreground hover:text-foreground\",\n                                            title: inputExpanded ? \"Collapse input\" : \"Expand input\",\n                                            children: inputExpanded ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_FileText_Globe_Loader2_Maximize2_Minimize2_Paperclip_Search_Send_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                className: \"h-4 w-4\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                                lineNumber: 710,\n                                                columnNumber: 34\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_FileText_Globe_Loader2_Maximize2_Minimize2_Paperclip_Search_Send_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                                className: \"h-4 w-4\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                                lineNumber: 710,\n                                                columnNumber: 70\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                            lineNumber: 702,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                        lineNumber: 701,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                lineNumber: 699,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_5__.Textarea, {\n                                        value: input,\n                                        onChange: (e)=>setInput(e.target.value),\n                                        placeholder: uploadedFile ? uploadedFile.fileName.match(/\\.(png|jpg|jpeg|gif|bmp|tiff|webp)$/i) ? \"Describe what you see in the image or ask questions about it...\" : \"Ask questions about the uploaded document...\" : \"Ask a question about your documents...\",\n                                        className: \"w-full pr-12 resize-y \".concat(inputExpanded ? \"min-h-[180px]\" : \"min-h-[80px]\", \" max-h-[320px]\"),\n                                        onKeyDown: (e)=>{\n                                            if (e.key === \"Enter\" && !e.shiftKey) {\n                                                e.preventDefault();\n                                                handleSubmit(e);\n                                            }\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                        lineNumber: 716,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute right-3 bottom-3 flex items-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"file\",\n                                                ref: fileInputRef,\n                                                onChange: handleFileSelect,\n                                                accept: ALLOWED_EXTENSIONS.join(\",\"),\n                                                className: \"hidden\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                                lineNumber: 733,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                                type: \"button\",\n                                                variant: \"ghost\",\n                                                size: \"icon\",\n                                                onClick: ()=>{\n                                                    var _fileInputRef_current;\n                                                    return (_fileInputRef_current = fileInputRef.current) === null || _fileInputRef_current === void 0 ? void 0 : _fileInputRef_current.click();\n                                                },\n                                                disabled: isUploading,\n                                                className: \"h-7 w-7\",\n                                                title: \"Upload document for analysis\",\n                                                children: isUploading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_FileText_Globe_Loader2_Maximize2_Minimize2_Paperclip_Search_Send_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                                    className: \"h-4 w-4 animate-spin\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                                    lineNumber: 750,\n                                                    columnNumber: 19\n                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_FileText_Globe_Loader2_Maximize2_Minimize2_Paperclip_Search_Send_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                                    className: \"h-4 w-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                                    lineNumber: 752,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                                lineNumber: 740,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                        lineNumber: 732,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                lineNumber: 715,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-between\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs text-muted-foreground\",\n                                        children: !uploadedFile && \"\\uD83D\\uDCA1 Tip: Click the clip icon or drag & drop files to upload logs, configs, images, or other documents.\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                        lineNumber: 759,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                        type: \"submit\",\n                                        disabled: !input.trim() || isLoading,\n                                        children: isLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_FileText_Globe_Loader2_Maximize2_Minimize2_Paperclip_Search_Send_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                            className: \"h-4 w-4 animate-spin\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                            lineNumber: 763,\n                                            columnNumber: 28\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_FileText_Globe_Loader2_Maximize2_Minimize2_Paperclip_Search_Send_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                                    className: \"h-4 w-4 mr-1\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                                    lineNumber: 763,\n                                                    columnNumber: 77\n                                                }, this),\n                                                \" Send\"\n                                            ]\n                                        }, void 0, true)\n                                    }, void 0, false, {\n                                        fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                        lineNumber: 762,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                                lineNumber: 758,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                        lineNumber: 698,\n                        columnNumber: 9\n                    }, this),\n                    !uploadedFile && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-2 text-xs text-muted-foreground\",\n                        children: \"Need to describe a longer issue? Expand the input or attach files for deeper analysis.\"\n                    }, void 0, false, {\n                        fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                        lineNumber: 769,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                lineNumber: 658,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_toast__WEBPACK_IMPORTED_MODULE_22__.Provider, {\n                swipeDirection: \"right\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_toast__WEBPACK_IMPORTED_MODULE_22__.Root, {\n                        open: toastOpen,\n                        onOpenChange: setToastOpen,\n                        duration: 2000,\n                        className: \"bg-black text-white px-4 py-2 rounded shadow-lg\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_toast__WEBPACK_IMPORTED_MODULE_22__.Title, {\n                            children: toastMsg\n                        }, void 0, false, {\n                            fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                            lineNumber: 777,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                        lineNumber: 776,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_toast__WEBPACK_IMPORTED_MODULE_22__.Viewport, {\n                        className: \"fixed bottom-4 right-4 z-50\"\n                    }, void 0, false, {\n                        fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                        lineNumber: 779,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n                lineNumber: 775,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/components/chat/chat-interface.tsx\",\n        lineNumber: 534,\n        columnNumber: 5\n    }, this);\n}\n_s(ChatInterface, \"SW2R9n1X74y+5GzTJPfxKgIh9Do=\", false, function() {\n    return [\n        _src_context_AuthContext__WEBPACK_IMPORTED_MODULE_2__.useAuth\n    ];\n});\n_c = ChatInterface;\nvar _c;\n$RefreshReg$(_c, \"ChatInterface\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvY2hhdC9jaGF0LWludGVyZmFjZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRXlCO0FBRTBCO0FBQ0E7QUFDaEI7QUFDVztBQUNNO0FBQ3BELHdFQUF3RTtBQUN4RSxTQUFTUSxxQkFBcUJDLE9BQWdCO0lBQzVDLElBQUlDLE9BQU9ELFFBQVFFLE9BQU87SUFDMUIsSUFBSUYsUUFBUUcsU0FBUyxJQUFJSCxRQUFRRyxTQUFTLENBQUNDLE1BQU0sR0FBRyxHQUFHO1FBQ3JESCxRQUFRO1FBQ1IsS0FBSyxNQUFNSSxLQUFLTCxRQUFRRyxTQUFTLENBQUU7WUFDakNGLFFBQVEsT0FBbUJJLE9BQVpBLEVBQUVDLEtBQUssRUFBQyxNQUFnQkQsT0FBWkEsRUFBRUUsTUFBTSxFQUFDLEtBQTRELE9BQXpERixFQUFFRyxLQUFLLEdBQUcsS0FBZ0MsT0FBM0IsQ0FBQ0gsRUFBRUcsS0FBSyxHQUFHLEdBQUUsRUFBR0MsT0FBTyxDQUFDLElBQUcsY0FBWTtRQUMvRjtJQUNGO0lBQ0FSLFFBQVEsa0JBQXFELE9BQW5DRCxRQUFRVSxTQUFTLENBQUNDLGNBQWM7SUFDMUQsT0FBT1Y7QUFDVDtBQUNBLGtDQUFrQztBQUNsQyxlQUFlVyxnQkFBZ0JYLElBQVk7SUFDekMsSUFBSVksVUFBVUMsU0FBUyxFQUFFO1FBQ3ZCLE1BQU1ELFVBQVVDLFNBQVMsQ0FBQ0MsU0FBUyxDQUFDZDtJQUN0QyxPQUFPO1FBQ0wsOEJBQThCO1FBQzlCLE1BQU1lLFdBQVdDLFNBQVNDLGFBQWEsQ0FBQztRQUN4Q0YsU0FBU0csS0FBSyxHQUFHbEI7UUFDakJnQixTQUFTRyxJQUFJLENBQUNDLFdBQVcsQ0FBQ0w7UUFDMUJBLFNBQVNNLE1BQU07UUFDZkwsU0FBU00sV0FBVyxDQUFDO1FBQ3JCTixTQUFTRyxJQUFJLENBQUNJLFdBQVcsQ0FBQ1I7SUFDNUI7QUFDRjtBQUMySTtBQUM1RjtBQUNJO0FB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QU1ySDtrREFDOUNBLDBCQUFZLDhEQUFDOUIsOEtBQU9BOzRDQUFDNEwsV0FBVTs7Ozs7aUVBQTRCOzs4REFBRSw4REFBQzdMLDhLQUFJQTtvREFBQzZMLFdBQVU7Ozs7OztnREFBaUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQUtwRyxDQUFDNUosOEJBQ0EsOERBQUM4Sjt3QkFBSUYsV0FBVTtrQ0FBcUM7Ozs7Ozs7Ozs7OzswQkFNeEQsOERBQUN6Tiw0REFBYztnQkFBQ3FQLGdCQUFlOztrQ0FDN0IsOERBQUNyUCx3REFBVTt3QkFBQ3VQLE1BQU1wRjt3QkFBV3FGLGNBQWNwRjt3QkFBY3FGLFVBQVU7d0JBQU1oQyxXQUFVO2tDQUNqRiw0RUFBQ3pOLHlEQUFXO3NDQUFFcUs7Ozs7Ozs7Ozs7O2tDQUVoQiw4REFBQ3JLLDREQUFjO3dCQUFDeU4sV0FBVTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSWxDO0dBNXJCZ0J2Szs7UUFDVXBELDZEQUFPQTs7O0tBRGpCb0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9jaGF0L2NoYXQtaW50ZXJmYWNlLnRzeD8wNTIxIl0sInNvdXJjZXNDb250ZW50IjpbIlxuJ3VzZSBjbGllbnQnXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gJ0Avc3JjL2NvbnRleHQvQXV0aENvbnRleHQnXG5pbXBvcnQgeyBDb3B5IH0gZnJvbSAnbHVjaWRlLXJlYWN0J1xuaW1wb3J0ICogYXMgVG9hc3QgZnJvbSAnQHJhZGl4LXVpL3JlYWN0LXRvYXN0J1xuaW1wb3J0IHsgTWVzc2FnZVJlbmRlcmVyIH0gZnJvbSAnLi9tZXNzYWdlLXJlbmRlcmVyJ1xuLy8gSGVscGVyIHRvIGZvcm1hdCBtZXNzYWdlIGZvciBjb3B5aW5nIChwbGFpbiB0ZXh0ICsgb3B0aW9uYWwgbWV0YWRhdGEpXG5mdW5jdGlvbiBmb3JtYXRNZXNzYWdlRm9yQ29weShtZXNzYWdlOiBNZXNzYWdlKTogc3RyaW5nIHtcbiAgbGV0IHRleHQgPSBtZXNzYWdlLmNvbnRlbnRcbiAgaWYgKG1lc3NhZ2UuY2l0YXRpb25zICYmIG1lc3NhZ2UuY2l0YXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICB0ZXh0ICs9ICdcXG5cXG5Tb3VyY2VzOidcbiAgICBmb3IgKGNvbnN0IGMgb2YgbWVzc2FnZS5jaXRhdGlvbnMpIHtcbiAgICAgIHRleHQgKz0gYFxcbi0gJHtjLnRpdGxlfSAoJHtjLnNvdXJjZX0pJHtjLnNjb3JlID8gYCBbJHsoYy5zY29yZSAqIDEwMCkudG9GaXhlZCgwKX0lIG1hdGNoXWAgOiAnJ31gXG4gICAgfVxuICB9XG4gIHRleHQgKz0gYFxcblxcblRpbWVzdGFtcDogJHttZXNzYWdlLnRpbWVzdGFtcC50b0xvY2FsZVN0cmluZygpfWBcbiAgcmV0dXJuIHRleHRcbn1cbi8vIENvcHkgdG8gY2xpcGJvYXJkIHdpdGggZmFsbGJhY2tcbmFzeW5jIGZ1bmN0aW9uIGNvcHlUb0NsaXBib2FyZCh0ZXh0OiBzdHJpbmcpIHtcbiAgaWYgKG5hdmlnYXRvci5jbGlwYm9hcmQpIHtcbiAgICBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCh0ZXh0KVxuICB9IGVsc2Uge1xuICAgIC8vIEZhbGxiYWNrIGZvciBvbGRlciBicm93c2Vyc1xuICAgIGNvbnN0IHRleHRhcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKVxuICAgIHRleHRhcmVhLnZhbHVlID0gdGV4dFxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGV4dGFyZWEpXG4gICAgdGV4dGFyZWEuc2VsZWN0KClcbiAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0ZXh0YXJlYSlcbiAgfVxufVxuaW1wb3J0IHsgU2VuZCwgTG9hZGVyMiwgRmlsZVRleHQsIFNlYXJjaCwgR2xvYmUsIFBhcGVyY2xpcCwgWCwgVXBsb2FkLCBDaGVja0NpcmNsZSwgQWxlcnRDaXJjbGUsIE1heGltaXplMiwgTWluaW1pemUyIH0gZnJvbSAnbHVjaWRlLXJlYWN0J1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbidcbmltcG9ydCB7IFRleHRhcmVhIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3RleHRhcmVhJ1xuaW1wb3J0IHsgQ2FyZCwgQ2FyZENvbnRlbnQgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvY2FyZCdcbmltcG9ydCB7IEJhZGdlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2JhZGdlJ1xuaW1wb3J0IHsgQ29sbGFwc2libGUsIENvbGxhcHNpYmxlQ29udGVudCwgQ29sbGFwc2libGVUcmlnZ2VyIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2NvbGxhcHNpYmxlJ1xuXG5pbnRlcmZhY2UgQ2l0YXRpb24ge1xuICBpZDogc3RyaW5nXG4gIHRpdGxlOiBzdHJpbmdcbiAgY29udGVudDogc3RyaW5nXG4gIHNvdXJjZTogc3RyaW5nXG4gIHNjb3JlPzogbnVtYmVyXG4gIHBhZ2U/OiBudW1iZXJcbn1cblxuaW50ZXJmYWNlIFVwbG9hZGVkRmlsZSB7XG4gIHNlc3Npb25JZDogc3RyaW5nXG4gIGZpbGVOYW1lOiBzdHJpbmdcbiAgZmlsZVNpemU6IG51bWJlclxuICB1cGxvYWRUaW1lOiBzdHJpbmdcbn1cblxuaW50ZXJmYWNlIE1lc3NhZ2Uge1xuICBpZDogc3RyaW5nXG4gIHJvbGU6ICd1c2VyJyB8ICdhc3Npc3RhbnQnXG4gIGNvbnRlbnQ6IHN0cmluZ1xuICBjaXRhdGlvbnM/OiBDaXRhdGlvbltdXG4gIHNlYXJjaFR5cGU/OiAnZG9jdW1lbnRzJyB8ICd3ZWInIHwgJ2h5YnJpZCcgfCAndGVtcC1kb2MnXG4gIHVwbG9hZGVkRmlsZT86IFVwbG9hZGVkRmlsZVxuICB0aW1lc3RhbXA6IERhdGVcbn1cblxuaW50ZXJmYWNlIENoYXRJbnRlcmZhY2VQcm9wcyB7XG4gIGNvbnZlcnNhdGlvbklkPzogbnVtYmVyXG4gIG9uQ29udmVyc2F0aW9uQ3JlYXRlZD86IChjb252ZXJzYXRpb25JZDogbnVtYmVyKSA9PiB2b2lkXG4gIG9uQ29udmVyc2F0aW9uQWN0aXZpdHk/OiAoY29udmVyc2F0aW9uSWQ6IG51bWJlcikgPT4gdm9pZFxufVxuXG5jb25zdCBBTExPV0VEX0VYVEVOU0lPTlMgPSBbXG4gICcudHh0JywgJy5sb2cnLCAnLmNzdicsICcuanNvbicsICcuc3FsJywgJy5wZGYnLFxuICAnLnhtbCcsICcuY29uZicsICcuY29uZmlnJywgJy5pbmknLCAnLnByb3BlcnRpZXMnLFxuICAnLm91dCcsICcuZXJyJywgJy50cmFjZScsICcuZHVtcCcsICcucG5nJywgJy5qcGcnLFxuICAnLmpwZWcnLCAnLmdpZicsICcuYm1wJywgJy50aWZmJywgJy53ZWJwJ1xuXVxuY29uc3QgTUFYX0ZJTEVfU0laRSA9IDEwICogMTAyNCAqIDEwMjQgLy8gMTBNQlxuXG5leHBvcnQgZnVuY3Rpb24gQ2hhdEludGVyZmFjZSh7IGNvbnZlcnNhdGlvbklkLCBvbkNvbnZlcnNhdGlvbkNyZWF0ZWQsIG9uQ29udmVyc2F0aW9uQWN0aXZpdHkgfTogQ2hhdEludGVyZmFjZVByb3BzKSB7XG4gIGNvbnN0IHsgYWNjZXNzVG9rZW4gfSA9IHVzZUF1dGgoKVxuICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlPE1lc3NhZ2VbXT4oW10pXG4gIGNvbnN0IFtpbnB1dCwgc2V0SW5wdXRdID0gdXNlU3RhdGUoJycpXG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW3VwbG9hZGVkRmlsZSwgc2V0VXBsb2FkZWRGaWxlXSA9IHVzZVN0YXRlPFVwbG9hZGVkRmlsZSB8IG51bGw+KG51bGwpXG4gIGNvbnN0IFtpc1VwbG9hZGluZywgc2V0SXNVcGxvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFt1cGxvYWRFcnJvciwgc2V0VXBsb2FkRXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbClcbiAgY29uc3QgW2lzRHJhZ092ZXIsIHNldElzRHJhZ092ZXJdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtpbnB1dEV4cGFuZGVkLCBzZXRJbnB1dEV4cGFuZGVkXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBtZXNzYWdlc0VuZFJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbClcbiAgY29uc3QgZmlsZUlucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpXG4gIGNvbnN0IGNoYXRDb250YWluZXJSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpXG5cbiAgY29uc3Qgc2Nyb2xsVG9Cb3R0b20gPSAoKSA9PiB7XG4gICAgbWVzc2FnZXNFbmRSZWYuY3VycmVudD8uc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSlcbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2Nyb2xsVG9Cb3R0b20oKVxuICB9LCBbbWVzc2FnZXNdKVxuXG4gIGNvbnN0IFtoaXN0b3J5TG9hZGluZywgc2V0SGlzdG9yeUxvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtoaXN0b3J5RXJyb3IsIHNldEhpc3RvcnlFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKVxuXG4gIC8vIEhhbmRsZSBjb252ZXJzYXRpb24gY2hhbmdlcyAtIGxvYWQgaGlzdG9yeSBmb3IgZXhpc3RpbmcgY29udmVyc2F0aW9uc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBjYW5jZWxsZWQgPSBmYWxzZVxuXG4gICAgY29uc3QgbG9hZEhpc3RvcnkgPSBhc3luYyAoaWQ6IG51bWJlcikgPT4ge1xuICAgICAgaWYgKCFhY2Nlc3NUb2tlbikge1xuICAgICAgICBzZXRIaXN0b3J5RXJyb3IoJ0F1dGhlbnRpY2F0aW9uIHJlcXVpcmVkIHRvIGxvYWQgY29udmVyc2F0aW9uLicpXG4gICAgICAgIHNldE1lc3NhZ2VzKFtdKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIHNldEhpc3RvcnlMb2FkaW5nKHRydWUpXG4gICAgICAgIHNldEhpc3RvcnlFcnJvcihudWxsKVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2NvbnZlcnNhdGlvbnMvJHtpZH1gLCB7XG4gICAgICAgICAgaGVhZGVyczogeyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7YWNjZXNzVG9rZW59YCB9LFxuICAgICAgICAgIGNhY2hlOiAnbm8tc3RvcmUnLFxuICAgICAgICB9KVxuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICBzZXRIaXN0b3J5RXJyb3IoJ0NvbnZlcnNhdGlvbiBub3QgZm91bmQuJylcbiAgICAgICAgICAgIHNldE1lc3NhZ2VzKFtdKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGRldGFpbCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKS5jYXRjaCgoKSA9PiAnJylcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGV0YWlsIHx8IGBGYWlsZWQgdG8gbG9hZCBjb252ZXJzYXRpb24gKHN0YXR1cyAke3Jlc3BvbnNlLnN0YXR1c30pYClcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG4gICAgICAgIGlmIChjYW5jZWxsZWQpIHJldHVyblxuICAgICAgICBjb25zdCBtYXBwZWQ6IE1lc3NhZ2VbXSA9IEFycmF5LmlzQXJyYXkoZGF0YT8ubWVzc2FnZXMpXG4gICAgICAgICAgPyBkYXRhLm1lc3NhZ2VzLm1hcCgobXNnOiBhbnkpID0+ICh7XG4gICAgICAgICAgICAgIGlkOiBTdHJpbmcobXNnLmlkKSxcbiAgICAgICAgICAgICAgcm9sZTogbXNnLnJvbGUgPT09ICdhc3Npc3RhbnQnID8gJ2Fzc2lzdGFudCcgOiAndXNlcicsXG4gICAgICAgICAgICAgIGNvbnRlbnQ6IG1zZy5jb250ZW50ID8/ICcnLFxuICAgICAgICAgICAgICBjaXRhdGlvbnM6IEFycmF5LmlzQXJyYXkobXNnLmNpdGF0aW9ucykgPyBtc2cuY2l0YXRpb25zIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICBzZWFyY2hUeXBlOiBtc2cuc2VhcmNoVHlwZSA/PyBtc2cubWV0aG9kLFxuICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKG1zZy5jcmVhdGVkQXQgPz8gbXNnLmNyZWF0ZWRfYXQgPz8gbmV3IERhdGUoKS50b0lTT1N0cmluZygpKSxcbiAgICAgICAgICAgIH0pKVxuICAgICAgICAgIDogW11cbiAgICAgICAgc2V0TWVzc2FnZXMobWFwcGVkKVxuICAgICAgICBzZXRVcGxvYWRlZEZpbGUobnVsbClcbiAgICAgICAgc2V0VXBsb2FkRXJyb3IobnVsbClcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmICghY2FuY2VsbGVkKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgY29udmVyc2F0aW9uIGhpc3Rvcnk6JywgZXJyb3IpXG4gICAgICAgICAgc2V0SGlzdG9yeUVycm9yKCdVbmFibGUgdG8gbG9hZCBjb252ZXJzYXRpb24gaGlzdG9yeS4nKVxuICAgICAgICAgIHNldE1lc3NhZ2VzKFtdKVxuICAgICAgICB9XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoIWNhbmNlbGxlZCkge1xuICAgICAgICAgIHNldEhpc3RvcnlMb2FkaW5nKGZhbHNlKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNvbnZlcnNhdGlvbklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHNldE1lc3NhZ2VzKFtdKVxuICAgICAgc2V0SW5wdXQoJycpXG4gICAgICBzZXRVcGxvYWRlZEZpbGUobnVsbClcbiAgICAgIHNldFVwbG9hZEVycm9yKG51bGwpXG4gICAgICBzZXRIaXN0b3J5RXJyb3IobnVsbClcbiAgICAgIHNldEhpc3RvcnlMb2FkaW5nKGZhbHNlKVxuICAgIH0gZWxzZSB7XG4gICAgICBsb2FkSGlzdG9yeShjb252ZXJzYXRpb25JZClcbiAgICB9XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2FuY2VsbGVkID0gdHJ1ZVxuICAgIH1cbiAgfSwgW2NvbnZlcnNhdGlvbklkLCBhY2Nlc3NUb2tlbl0pXG5cbiAgY29uc3QgdmFsaWRhdGVGaWxlID0gKGZpbGU6IEZpbGUpOiBzdHJpbmcgfCBudWxsID0+IHtcbiAgICBpZiAoZmlsZS5zaXplID4gTUFYX0ZJTEVfU0laRSkge1xuICAgICAgcmV0dXJuIGBGaWxlIHNpemUgZXhjZWVkcyAke01BWF9GSUxFX1NJWkUgLyAxMDI0IC8gMTAyNH1NQiBsaW1pdGBcbiAgICB9XG5cbiAgICBjb25zdCBleHRlbnNpb24gPSBmaWxlLm5hbWUudG9Mb3dlckNhc2UoKS5zdWJzdHJpbmcoZmlsZS5uYW1lLmxhc3RJbmRleE9mKCcuJykpXG4gICAgaWYgKCFBTExPV0VEX0VYVEVOU0lPTlMuaW5jbHVkZXMoZXh0ZW5zaW9uKSkge1xuICAgICAgcmV0dXJuIGBGaWxlIHR5cGUgbm90IHN1cHBvcnRlZC4gQWxsb3dlZDogJHtBTExPV0VEX0VYVEVOU0lPTlMuam9pbignLCAnKX1gXG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGNvbnN0IGhhbmRsZUZpbGVVcGxvYWQgPSBhc3luYyAoZmlsZTogRmlsZSkgPT4ge1xuICAgIGNvbnN0IHZhbGlkYXRpb25FcnJvciA9IHZhbGlkYXRlRmlsZShmaWxlKVxuICAgIGlmICh2YWxpZGF0aW9uRXJyb3IpIHtcbiAgICAgIHNldFVwbG9hZEVycm9yKHZhbGlkYXRpb25FcnJvcilcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHNldElzVXBsb2FkaW5nKHRydWUpXG4gICAgc2V0VXBsb2FkRXJyb3IobnVsbClcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpXG4gICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKVxuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3RlbXAtdXBsb2FkJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogZm9ybURhdGEsXG4gICAgICAgIGhlYWRlcnM6IGFjY2Vzc1Rva2VuID8geyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7YWNjZXNzVG9rZW59YCB9IDogdW5kZWZpbmVkXG4gICAgICB9KVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKClcblxuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0LmVycm9yIHx8ICdVcGxvYWQgZmFpbGVkJylcbiAgICAgIH1cblxuICAgICAgY29uc3QgdXBsb2FkZWRGaWxlOiBVcGxvYWRlZEZpbGUgPSB7XG4gICAgICAgIHNlc3Npb25JZDogcmVzdWx0LnNlc3Npb25JZCxcbiAgICAgICAgZmlsZU5hbWU6IHJlc3VsdC5maWxlTmFtZSxcbiAgICAgICAgZmlsZVNpemU6IHJlc3VsdC5maWxlU2l6ZSxcbiAgICAgICAgdXBsb2FkVGltZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9XG5cbiAgICAgIHNldFVwbG9hZGVkRmlsZSh1cGxvYWRlZEZpbGUpXG5cbiAgICAgIC8vIEFkZCBhIHN5c3RlbSBtZXNzYWdlIGFib3V0IHRoZSB1cGxvYWRcbiAgICAgIGNvbnN0IHN5c3RlbU1lc3NhZ2U6IE1lc3NhZ2UgPSB7XG4gICAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKCksXG4gICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICBjb250ZW50OiBg4pyFICoqRmlsZSB1cGxvYWRlZCBzdWNjZXNzZnVsbHk6KiogJHtmaWxlLm5hbWV9ICgke2Zvcm1hdEZpbGVTaXplKGZpbGUuc2l6ZSl9KVxcblxcbllvdSBjYW4gbm93IGFzayBxdWVzdGlvbnMgYWJvdXQgdGhpcyBkb2N1bWVudC4gSSdsbCBhbmFseXplIGl0cyBjb250ZW50IHRvIHByb3ZpZGUgc3BlY2lmaWMgaW5zaWdodHMgYW5kIHRyb3VibGVzaG9vdGluZyBhc3Npc3RhbmNlLmAsXG4gICAgICAgIHNlYXJjaFR5cGU6ICd0ZW1wLWRvYycsXG4gICAgICAgIHVwbG9hZGVkRmlsZTogdXBsb2FkZWRGaWxlLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcbiAgICAgIH1cblxuICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBbLi4ucHJldiwgc3lzdGVtTWVzc2FnZV0pXG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignVXBsb2FkIGVycm9yOicsIGVycm9yKVxuICAgICAgc2V0VXBsb2FkRXJyb3IoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVXBsb2FkIGZhaWxlZCcpXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzVXBsb2FkaW5nKGZhbHNlKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGhhbmRsZUZpbGVTZWxlY3QgPSAoZXZlbnQ6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgY29uc3QgZmlsZXMgPSBldmVudC50YXJnZXQuZmlsZXNcbiAgICBpZiAoZmlsZXMgJiYgZmlsZXMubGVuZ3RoID4gMCkge1xuICAgICAgaGFuZGxlRmlsZVVwbG9hZChmaWxlc1swXSlcbiAgICB9XG4gIH1cblxuICBjb25zdCBjbGVhclVwbG9hZGVkRmlsZSA9ICgpID0+IHtcbiAgICBzZXRVcGxvYWRlZEZpbGUobnVsbClcbiAgICBzZXRVcGxvYWRFcnJvcihudWxsKVxuICAgIGlmIChmaWxlSW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgZmlsZUlucHV0UmVmLmN1cnJlbnQudmFsdWUgPSAnJ1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZvcm1hdEZpbGVTaXplID0gKGJ5dGVzOiBudW1iZXIpID0+IHtcbiAgICBpZiAoYnl0ZXMgPT09IDApIHJldHVybiAnMCBCeXRlcydcbiAgICBjb25zdCBrID0gMTAyNFxuICAgIGNvbnN0IHNpemVzID0gWydCeXRlcycsICdLQicsICdNQiddXG4gICAgY29uc3QgaSA9IE1hdGguZmxvb3IoTWF0aC5sb2coYnl0ZXMpIC8gTWF0aC5sb2coaykpXG4gICAgcmV0dXJuIHBhcnNlRmxvYXQoKGJ5dGVzIC8gTWF0aC5wb3coaywgaSkpLnRvRml4ZWQoMSkpICsgJyAnICsgc2l6ZXNbaV1cbiAgfVxuXG4gIC8vIERyYWcgYW5kIGRyb3AgaGFuZGxlcnNcbiAgY29uc3QgaGFuZGxlRHJhZ0VudGVyID0gKGU6IFJlYWN0LkRyYWdFdmVudCkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcbiAgICBzZXRJc0RyYWdPdmVyKHRydWUpXG4gIH1cblxuICBjb25zdCBoYW5kbGVEcmFnTGVhdmUgPSAoZTogUmVhY3QuRHJhZ0V2ZW50KSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgIC8vIE9ubHkgc2V0IGlzRHJhZ092ZXIgdG8gZmFsc2UgaWYgd2UncmUgbGVhdmluZyB0aGUgY2hhdCBjb250YWluZXJcbiAgICBpZiAoIWNoYXRDb250YWluZXJSZWYuY3VycmVudD8uY29udGFpbnMoZS5yZWxhdGVkVGFyZ2V0IGFzIE5vZGUpKSB7XG4gICAgICBzZXRJc0RyYWdPdmVyKGZhbHNlKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGhhbmRsZURyYWdPdmVyID0gKGU6IFJlYWN0LkRyYWdFdmVudCkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcbiAgfVxuXG4gIGNvbnN0IGhhbmRsZURyb3AgPSAoZTogUmVhY3QuRHJhZ0V2ZW50KSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgIHNldElzRHJhZ092ZXIoZmFsc2UpXG5cbiAgICBjb25zdCBmaWxlcyA9IGUuZGF0YVRyYW5zZmVyLmZpbGVzXG4gICAgaWYgKGZpbGVzICYmIGZpbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGhhbmRsZUZpbGVVcGxvYWQoZmlsZXNbMF0pXG4gICAgfVxuICB9XG5cbiAgLy8gVG9hc3Qgc3RhdGUgZm9yIGNvcHkgZmVlZGJhY2tcbiAgY29uc3QgW3RvYXN0T3Blbiwgc2V0VG9hc3RPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbdG9hc3RNc2csIHNldFRvYXN0TXNnXSA9IHVzZVN0YXRlKCcnKVxuXG4gIC8vIEFkZCBnbG9iYWwgZHJhZyBldmVudCBsaXN0ZW5lcnMgdG8gZGV0ZWN0IGRyYWcgZW50ZXIvbGVhdmVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVHbG9iYWxEcmFnRW50ZXIgPSAoZTogRHJhZ0V2ZW50KSA9PiB7XG4gICAgICBpZiAoZS5kYXRhVHJhbnNmZXI/LnR5cGVzLmluY2x1ZGVzKCdGaWxlcycpKSB7XG4gICAgICAgIHNldElzRHJhZ092ZXIodHJ1ZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBoYW5kbGVHbG9iYWxEcmFnTGVhdmUgPSAoZTogRHJhZ0V2ZW50KSA9PiB7XG4gICAgICAvLyBPbmx5IGhpZGUgZHJhZyBvdmVybGF5IGlmIHdlJ3JlIGxlYXZpbmcgdGhlIHdpbmRvd1xuICAgICAgaWYgKGUuY2xpZW50WCA9PT0gMCAmJiBlLmNsaWVudFkgPT09IDApIHtcbiAgICAgICAgc2V0SXNEcmFnT3ZlcihmYWxzZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW50ZXInLCBoYW5kbGVHbG9iYWxEcmFnRW50ZXIpXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgaGFuZGxlR2xvYmFsRHJhZ0xlYXZlKVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdlbnRlcicsIGhhbmRsZUdsb2JhbERyYWdFbnRlcilcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIGhhbmRsZUdsb2JhbERyYWdMZWF2ZSlcbiAgICB9XG4gIH0sIFtdKVxuXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IGFzeW5jIChlOiBSZWFjdC5Gb3JtRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCByYXdJbnB1dCA9IGlucHV0LnRyaW0oKVxuICAgIGlmICghcmF3SW5wdXQgfHwgaXNMb2FkaW5nKSByZXR1cm5cbiAgICBpZiAoIWFjY2Vzc1Rva2VuKSB7XG4gICAgICBzZXRUb2FzdE1zZygnUGxlYXNlIHNpZ24gaW4gdG8gY2hhdC4nKVxuICAgICAgc2V0VG9hc3RPcGVuKHRydWUpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBjb21tYW5kTWF0Y2ggPSByYXdJbnB1dC5tYXRjaCgvXlxcLyhuZXd8dXBkYXRlfGNsb3NlKVxccytjYXNlXFxzKyguKykkL2kpXG4gICAgbGV0IGRpc3BsYXlDb250ZW50ID0gcmF3SW5wdXRcbiAgICBsZXQgb3V0Ym91bmRDb250ZW50ID0gcmF3SW5wdXRcblxuICAgIGlmIChjb21tYW5kTWF0Y2gpIHtcbiAgICAgIGNvbnN0IGFjdGlvbiA9IGNvbW1hbmRNYXRjaFsxXS50b0xvd2VyQ2FzZSgpXG4gICAgICBjb25zdCBjYXNlTnVtYmVyID0gY29tbWFuZE1hdGNoWzJdLnRyaW0oKVxuICAgICAgaWYgKCFjYXNlTnVtYmVyKSB7XG4gICAgICAgIHNldFRvYXN0TXNnKCdQbGVhc2UgcHJvdmlkZSBhIGNhc2UgbnVtYmVyLCBlLmcuIC9uZXcgY2FzZSAwMTEyNTA1MicpXG4gICAgICAgIHNldFRvYXN0T3Blbih0cnVlKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgaWYgKGFjdGlvbiA9PT0gJ25ldycpIHtcbiAgICAgICAgZGlzcGxheUNvbnRlbnQgPSBg8J+ThCBJbml0aWF0aW5nIFNhbGVzZm9yY2UgY2FzZSAke2Nhc2VOdW1iZXJ9YFxuICAgICAgICBvdXRib3VuZENvbnRlbnQgPSBgWW91IGFyZSBhc3Npc3Rpbmcgd2l0aCBTYWxlc2ZvcmNlIGNhc2UgJHtjYXNlTnVtYmVyfS4gVXNpbmcgdGhlIGNvbnZlcnNhdGlvbiBjb250ZXh0LCBkZWZpbmUgdGhlIGNhc2UgZm9yIGFuYWx5c2lzIGFuZCByZWNvbW1lbmRhdGlvbiBieSBwcm92aWRpbmc6XFxuLSBBIGNvbmNpc2UgY2FzZSBvdmVydmlldyB3aXRoIGltcG9ydGFudCBmYWN0cyBrbm93biBzbyBmYXIuXFxuLSBJbW1lZGlhdGUgZGlhZ25vc3RpYyBvciB0cmlhZ2Ugc3RlcHMgdG8gcGVyZm9ybS5cXG4tIENsYXJpZnlpbmcgcXVlc3Rpb25zIHRoYXQgc2hvdWxkIGJlIGFza2VkIG9mIHRoZSBjdXN0b21lci5cXG4tIFJlY29tbWVuZGVkIG5leHQgYWN0aW9ucyBmb3IgZW5naW5lZXJpbmcvc3VwcG9ydCB0ZWFtcy5cXG5SZXR1cm4gdGhlIHJlc3BvbnNlIHdpdGggaGVhZGluZ3M6IENhc2UgT3ZlcnZpZXcsIEltbWVkaWF0ZSBBY3Rpb25zLCBDbGFyaWZ5aW5nIFF1ZXN0aW9ucywgUmVjb21tZW5kZWQgTmV4dCBTdGVwcy5gXG4gICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gJ3VwZGF0ZScpIHtcbiAgICAgICAgZGlzcGxheUNvbnRlbnQgPSBg8J+boO+4jyBVcGRhdGluZyBTYWxlc2ZvcmNlIGNhc2UgJHtjYXNlTnVtYmVyfWBcbiAgICAgICAgb3V0Ym91bmRDb250ZW50ID0gYFlvdSBhcmUgcHJvdmlkaW5nIGFuIHVwZGF0ZSBvbiBTYWxlc2ZvcmNlIGNhc2UgJHtjYXNlTnVtYmVyfS4gUmV2aWV3IHRoZSBjb252ZXJzYXRpb24gY29udGV4dCBhbmQgcHJvZHVjZTpcXG4tIFRoZSBjdXJyZW50IHN0YXR1cy9wcm9ncmVzcyBvZiB0aGUgY2FzZS5cXG4tIE91dHN0YW5kaW5nIGlzc3VlcyBvciBibG9ja2Vycy5cXG4tIFJlY29tbWVuZGVkIG5leHQgc3RlcHMgZm9yIHRoZSBzdXBwb3J0IGVuZ2luZWVyLlxcbi0gU3VnZ2VzdGVkIGN1c3RvbWVyIGNvbW11bmljYXRpb24gcG9pbnRzLlxcblJldHVybiB0aGUgcmVzcG9uc2Ugd2l0aCBoZWFkaW5nczogQ2FzZSBTdGF0dXMsIE91dHN0YW5kaW5nIEl0ZW1zLCBSZWNvbW1lbmRlZCBBY3Rpb25zLCBDdXN0b21lciBDb21tdW5pY2F0aW9uLmBcbiAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSAnY2xvc2UnKSB7XG4gICAgICAgIGRpc3BsYXlDb250ZW50ID0gYOKchSBDbG9zaW5nIFNhbGVzZm9yY2UgY2FzZSAke2Nhc2VOdW1iZXJ9YFxuICAgICAgICBvdXRib3VuZENvbnRlbnQgPSBgWW91IGFyZSBwcmVwYXJpbmcgdG8gY2xvc2UgU2FsZXNmb3JjZSBjYXNlICR7Y2FzZU51bWJlcn0uIEJhc2VkIG9uIHRoZSBjb252ZXJzYXRpb24gY29udGV4dCwgcHJvdmlkZTpcXG4tIEEgYnJpZWYgaW5jaWRlbnQgc3VtbWFyeS5cXG4tIEFjdGlvbnMgdGFrZW4gYW5kIHJlc29sdXRpb25zIGFwcGxpZWQuXFxuLSBWZXJpZmljYXRpb24gc3RlcHMgb3IgZmluYWwgY2hlY2tzIGNvbXBsZXRlZC9uZWVkZWQuXFxuLSBGaW5hbCBjbG9zaW5nIGNvbW1lbnRzIGZvciB0aGUgY3VzdG9tZXIuXFxuUmV0dXJuIHRoZSByZXNwb25zZSB3aXRoIGhlYWRpbmdzOiBTdW1tYXJ5LCBBY3Rpb25zIFRha2VuLCBWZXJpZmljYXRpb24sIENsb3NpbmcgQ29tbWVudHMuYFxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHVzZXJNZXNzYWdlOiBNZXNzYWdlID0ge1xuICAgICAgaWQ6IERhdGUubm93KCkudG9TdHJpbmcoKSxcbiAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgIGNvbnRlbnQ6IGRpc3BsYXlDb250ZW50LFxuICAgICAgdXBsb2FkZWRGaWxlOiB1cGxvYWRlZEZpbGUgfHwgdW5kZWZpbmVkLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpXG4gICAgfVxuXG4gICAgc2V0TWVzc2FnZXMocHJldiA9PiBbLi4ucHJldiwgdXNlck1lc3NhZ2VdKVxuICAgIGNvbnN0IGN1cnJlbnRJbnB1dCA9IG91dGJvdW5kQ29udGVudFxuICAgIHNldElucHV0KCcnKVxuICAgIHNldElzTG9hZGluZyh0cnVlKVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIElmIHRoZXJlJ3MgYW4gdXBsb2FkZWQgZmlsZSwgYW5hbHl6ZSBpdCB1c2luZyB0ZW1wLWFuYWx5emUgZW5kcG9pbnRcbiAgICAgIGlmICh1cGxvYWRlZEZpbGUpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS90ZW1wLWFuYWx5emUnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIC4uLihhY2Nlc3NUb2tlbiA/IHsgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2FjY2Vzc1Rva2VufWAgfSA6IHt9KVxuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgc2Vzc2lvbklkOiB1cGxvYWRlZEZpbGUuc2Vzc2lvbklkLFxuICAgICAgICAgICAgcXVlcnk6IGN1cnJlbnRJbnB1dCxcbiAgICAgICAgICAgIG1heFJlc3VsdHM6IDVcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSlcblxuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQIGVycm9yISBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKClcblxuICAgICAgICBjb25zdCBhc3Npc3RhbnRNZXNzYWdlOiBNZXNzYWdlID0ge1xuICAgICAgICAgIGlkOiAoRGF0ZS5ub3coKSArIDEpLnRvU3RyaW5nKCksXG4gICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgY29udGVudDogcmVzdWx0LnJlc3BvbnNlLFxuICAgICAgICAgIGNpdGF0aW9uczogcmVzdWx0LnJlc3VsdHM/Lm1hcCgocjogYW55LCBpZHg6IG51bWJlcikgPT4gKHtcbiAgICAgICAgICAgIGlkOiBgdGVtcC0ke2lkeH1gLFxuICAgICAgICAgICAgdGl0bGU6IGBTZWN0aW9uICR7ci5yYW5rfWAsXG4gICAgICAgICAgICBjb250ZW50OiByLmNvbnRlbnQsXG4gICAgICAgICAgICBzb3VyY2U6IHVwbG9hZGVkRmlsZS5maWxlTmFtZSxcbiAgICAgICAgICAgIHNjb3JlOiByLnNpbWlsYXJpdHlcbiAgICAgICAgICB9KSksXG4gICAgICAgICAgc2VhcmNoVHlwZTogJ3RlbXAtZG9jJyxcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcbiAgICAgICAgfVxuXG4gICAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gWy4uLnByZXYsIGFzc2lzdGFudE1lc3NhZ2VdKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgLy8gUmVndWxhciBjaGF0IHdpdGhvdXQgdXBsb2FkZWQgZmlsZVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9jaGF0Jywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2FjY2Vzc1Rva2VufWBcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGNvbnZlcnNhdGlvbklkLFxuICAgICAgICAgIG1lc3NhZ2U6IGN1cnJlbnRJbnB1dCxcbiAgICAgICAgICBkaXNwbGF5TWVzc2FnZTogdXNlck1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgfSksXG4gICAgICB9KVxuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCBlcnJvciEgc3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gKVxuICAgICAgfVxuXG4gICAgICBjb25zdCByZWFkZXIgPSByZXNwb25zZS5ib2R5Py5nZXRSZWFkZXIoKVxuICAgICAgaWYgKCFyZWFkZXIpIHRocm93IG5ldyBFcnJvcignTm8gcmVzcG9uc2UgYm9keScpXG5cbiAgICAgIGxldCBhc3Npc3RhbnRNZXNzYWdlOiBNZXNzYWdlID0ge1xuICAgICAgICBpZDogKERhdGUubm93KCkgKyAxKS50b1N0cmluZygpLFxuICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgY29udGVudDogJycsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKVxuICAgICAgfVxuICAgICAgbGV0IHJlc29sdmVkQ29udmVyc2F0aW9uSWQ6IG51bWJlciB8IHVuZGVmaW5lZCA9IGNvbnZlcnNhdGlvbklkXG5cbiAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gWy4uLnByZXYsIGFzc2lzdGFudE1lc3NhZ2VdKVxuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpXG4gICAgICAgIGlmIChkb25lKSBicmVha1xuXG4gICAgICAgIGNvbnN0IGNodW5rID0gbmV3IFRleHREZWNvZGVyKCkuZGVjb2RlKHZhbHVlKVxuICAgICAgICBjb25zdCBsaW5lcyA9IGNodW5rLnNwbGl0KCdcXG4nKVxuXG4gICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xuICAgICAgICAgIGlmIChsaW5lLnN0YXJ0c1dpdGgoJ2RhdGE6ICcpKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShsaW5lLnNsaWNlKDYpKVxuXG4gICAgICAgICAgICAgIGlmIChkYXRhLnR5cGUgPT09ICd0b2tlbicpIHtcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgc3RyZWFtaW5nIHRva2VucyBmcm9tIHRoZSBiYWNrZW5kXG4gICAgICAgICAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBwcmV2Lm1hcChtID0+XG4gICAgICAgICAgICAgICAgICBtLmlkID09PSBhc3Npc3RhbnRNZXNzYWdlLmlkXG4gICAgICAgICAgICAgICAgICAgID8geyAuLi5tLCBjb250ZW50OiBtLmNvbnRlbnQgKyBkYXRhLnRva2VuIH1cbiAgICAgICAgICAgICAgICAgICAgOiBtXG4gICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICdzb3VyY2VzJykge1xuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBzb3VyY2VzL2NpdGF0aW9uc1xuICAgICAgICAgICAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gcHJldi5tYXAobSA9PlxuICAgICAgICAgICAgICAgICAgbS5pZCA9PT0gYXNzaXN0YW50TWVzc2FnZS5pZFxuICAgICAgICAgICAgICAgICAgICA/IHsgLi4ubSwgY2l0YXRpb25zOiBkYXRhLnNvdXJjZXMsIHNlYXJjaFR5cGU6IGRhdGEubWV0aG9kIH1cbiAgICAgICAgICAgICAgICAgICAgOiBtXG4gICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICdjb252ZXJzYXRpb25faWQnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhLmNvbnZlcnNhdGlvbklkID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgcmVzb2x2ZWRDb252ZXJzYXRpb25JZCA9IGRhdGEuY29udmVyc2F0aW9uSWRcbiAgICAgICAgICAgICAgICAgIGlmIChjb252ZXJzYXRpb25JZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uQ29udmVyc2F0aW9uQ3JlYXRlZD8uKGRhdGEuY29udmVyc2F0aW9uSWQpXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ2RvbmUnKSB7XG4gICAgICAgICAgICAgICAgLy8gU3RyZWFtaW5nIGNvbXBsZXRlZFxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTdHJlYW1pbmcgY29tcGxldGVkJylcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdTdHJlYW1pbmcgZXJyb3I6JywgZGF0YS5lcnJvcilcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAvLyBJZ25vcmUgbWFsZm9ybWVkIEpTT05cbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gcGFyc2Ugc3RyZWFtaW5nIGRhdGE6JywgbGluZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHJlc29sdmVkQ29udmVyc2F0aW9uSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvbkNvbnZlcnNhdGlvbkFjdGl2aXR5Py4ocmVzb2x2ZWRDb252ZXJzYXRpb25JZClcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignQ2hhdCBlcnJvcjonLCBlcnJvcilcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZTogTWVzc2FnZSA9IHtcbiAgICAgICAgaWQ6IChEYXRlLm5vdygpICsgMSkudG9TdHJpbmcoKSxcbiAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgIGNvbnRlbnQ6ICdTb3JyeSwgSSBlbmNvdW50ZXJlZCBhbiBlcnJvci4gUGxlYXNlIHRyeSBhZ2Fpbi4nLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcbiAgICAgIH1cbiAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gWy4uLnByZXYsIGVycm9yTWVzc2FnZV0pXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSlcbiAgICB9XG4gIH1cblxuICBjb25zdCBnZXRTZWFyY2hJY29uID0gKHNlYXJjaFR5cGU/OiBzdHJpbmcpID0+IHtcbiAgICBzd2l0Y2ggKHNlYXJjaFR5cGUpIHtcbiAgICAgIGNhc2UgJ2RvY3VtZW50cyc6IHJldHVybiA8RmlsZVRleHQgY2xhc3NOYW1lPVwiaC0zIHctM1wiIC8+XG4gICAgICBjYXNlICd3ZWInOiByZXR1cm4gPEdsb2JlIGNsYXNzTmFtZT1cImgtMyB3LTNcIiAvPlxuICAgICAgY2FzZSAnaHlicmlkJzogcmV0dXJuIDxTZWFyY2ggY2xhc3NOYW1lPVwiaC0zIHctM1wiIC8+XG4gICAgICBjYXNlICd0ZW1wLWRvYyc6IHJldHVybiA8VXBsb2FkIGNsYXNzTmFtZT1cImgtMyB3LTNcIiAvPlxuICAgICAgZGVmYXVsdDogcmV0dXJuIDxTZWFyY2ggY2xhc3NOYW1lPVwiaC0zIHctM1wiIC8+XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZ2V0U2VhcmNoTGFiZWwgPSAoc2VhcmNoVHlwZT86IHN0cmluZykgPT4ge1xuICAgIHN3aXRjaCAoc2VhcmNoVHlwZSkge1xuICAgICAgY2FzZSAnZG9jdW1lbnRzJzogcmV0dXJuICdEb2N1bWVudCBTZWFyY2gnXG4gICAgICBjYXNlICd3ZWInOiByZXR1cm4gJ1dlYiBTZWFyY2gnXG4gICAgICBjYXNlICdoeWJyaWQnOiByZXR1cm4gJ0h5YnJpZCBTZWFyY2gnXG4gICAgICBjYXNlICd0ZW1wLWRvYyc6IHJldHVybiAnVXBsb2FkZWQgRG9jdW1lbnQnXG4gICAgICBkZWZhdWx0OiByZXR1cm4gJ1NlYXJjaCdcbiAgICB9XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIHJlZj17Y2hhdENvbnRhaW5lclJlZn1cbiAgICAgIGNsYXNzTmFtZT1cImZsZXggaC1mdWxsIG1pbi1oLTAgZmxleC1jb2wgcmVsYXRpdmVcIlxuICAgICAgb25EcmFnRW50ZXI9e2hhbmRsZURyYWdFbnRlcn1cbiAgICAgIG9uRHJhZ0xlYXZlPXtoYW5kbGVEcmFnTGVhdmV9XG4gICAgICBvbkRyYWdPdmVyPXtoYW5kbGVEcmFnT3Zlcn1cbiAgICAgIG9uRHJvcD17aGFuZGxlRHJvcH1cbiAgICA+XG4gICAgICB7LyogRHJhZyBPdmVybGF5ICovfVxuICAgICAge2lzRHJhZ092ZXIgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgei01MCBiZy1ibHVlLTUwMC8xMCBiYWNrZHJvcC1ibHVyLXNtIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJvcmRlci0yIGJvcmRlci1kYXNoZWQgYm9yZGVyLWJsdWUtNTAwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBwLTggYmctd2hpdGUvOTAgcm91bmRlZC1sZyBzaGFkb3ctbGdcIj5cbiAgICAgICAgICAgIDxVcGxvYWQgY2xhc3NOYW1lPVwiaC0xMiB3LTEyIG14LWF1dG8gdGV4dC1ibHVlLTUwMCBtYi00XCIgLz5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC1ibHVlLTkwMCBtYi0yXCI+RHJvcCBmaWxlIHRvIGFuYWx5emU8L2gzPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ibHVlLTcwMFwiPlxuICAgICAgICAgICAgICBTdXBwb3J0cyBsb2dzLCBjb25maWdzLCBQREZzLCBpbWFnZXMsIGFuZCBtb3JlXG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtYmx1ZS02MDAgbXQtMlwiPlxuICAgICAgICAgICAgICBBSSB3aWxsIGFuYWx5emUgeW91ciBkb2N1bWVudCB3aXRoIFRlY2huaWNhbCBTZXJ2aWNlIEFzc2lzdGFudCBleHBlcnRpc2VcbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7LyogTWVzc2FnZXMgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtaW4taC0wIG92ZXJmbG93LXktYXV0byBwLTQgc3BhY2UteS00XCI+XG4gICAgICAgIHtoaXN0b3J5TG9hZGluZyAmJiBtZXNzYWdlcy5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LW11dGVkLWZvcmVncm91bmQgcHktOFwiPlxuICAgICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPVwiaC0xMCB3LTEwIG14LWF1dG8gbWItNCBhbmltYXRlLXNwaW5cIiAvPlxuICAgICAgICAgICAgPHA+TG9hZGluZyBjb252ZXJzYXRpb24uLi48L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkgOiBoaXN0b3J5RXJyb3IgJiYgbWVzc2FnZXMubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgdGV4dC1yZWQtNTAwIHB5LThcIj5cbiAgICAgICAgICAgIDxBbGVydENpcmNsZSBjbGFzc05hbWU9XCJoLTEwIHctMTAgbXgtYXV0byBtYi00XCIgLz5cbiAgICAgICAgICAgIDxwPntoaXN0b3J5RXJyb3J9PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApIDogbWVzc2FnZXMubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHB5LThcIj5cbiAgICAgICAgICAgIDxTZWFyY2ggY2xhc3NOYW1lPVwiaC0xMiB3LTEyIG14LWF1dG8gbWItNCBvcGFjaXR5LTUwXCIgLz5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtbWVkaXVtIG1iLTJcIj5TdGFydCBhIGNvbnZlcnNhdGlvbjwvaDM+XG4gICAgICAgICAgICA8cD5Bc2sgcXVlc3Rpb25zIGFib3V0IHlvdXIgZG9jdW1lbnRzIG9yIGFueSB0b3BpYy48L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkgOiBudWxsfVxuXG4gICAgICAgIHttZXNzYWdlcy5tYXAoKG1lc3NhZ2UpID0+IChcbiAgICAgICAgICA8ZGl2IGtleT17bWVzc2FnZS5pZH0gY2xhc3NOYW1lPXtgZmxleCAke21lc3NhZ2Uucm9sZSA9PT0gJ3VzZXInID8gJ2p1c3RpZnktZW5kJyA6ICdqdXN0aWZ5LXN0YXJ0J31gfT5cbiAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YG1heC13LVs4MCVdICR7bWVzc2FnZS5yb2xlID09PSAndXNlcicgPyAnYmctcHJpbWFyeSB0ZXh0LXByaW1hcnktZm9yZWdyb3VuZCcgOiAnYmctbXV0ZWQnfSByb3VuZGVkLWxnIHAtNCByZWxhdGl2ZWB9PlxuICAgICAgICAgICAgICAgPE1lc3NhZ2VSZW5kZXJlciBjb250ZW50PXttZXNzYWdlLmNvbnRlbnR9IC8+XG4gICAgICAgICAgICAgIHsvKiBDb3B5IGJ1dHRvbiBmb3IgYXNzaXN0YW50IG1lc3NhZ2VzICovfVxuICAgICAgICAgICAgICB7bWVzc2FnZS5yb2xlID09PSAnYXNzaXN0YW50JyAmJiAoXG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTIgcmlnaHQtMiBwLTEgcm91bmRlZCBob3ZlcjpiZy1hY2NlbnQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmdcIlxuICAgICAgICAgICAgICAgICAgdGl0bGU9XCJDb3B5IHJlc3BvbnNlXCJcbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJDb3B5IHJlc3BvbnNlXCJcbiAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPVwiY29weS1idG5cIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGNvcHlUb0NsaXBib2FyZChmb3JtYXRNZXNzYWdlRm9yQ29weShtZXNzYWdlKSlcbiAgICAgICAgICAgICAgICAgICAgICBzZXRUb2FzdE1zZygnQ29waWVkIHRvIGNsaXBib2FyZCEnKVxuICAgICAgICAgICAgICAgICAgICAgIHNldFRvYXN0T3Blbih0cnVlKVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0VG9hc3RNc2coJ0NvcHkgZmFpbGVkJylcbiAgICAgICAgICAgICAgICAgICAgICBzZXRUb2FzdE9wZW4odHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8Q29weSBjbGFzc05hbWU9XCJoLTQgdy00IHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiIC8+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIHttZXNzYWdlLmNpdGF0aW9ucyAmJiBtZXNzYWdlLmNpdGF0aW9ucy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgcHQtMyBib3JkZXItdCBib3JkZXItYm9yZGVyLzIwXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAge2dldFNlYXJjaEljb24obWVzc2FnZS5zZWFyY2hUeXBlKX1cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyBmb250LW1lZGl1bVwiPntnZXRTZWFyY2hMYWJlbChtZXNzYWdlLnNlYXJjaFR5cGUpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9XCJzZWNvbmRhcnlcIiBjbGFzc05hbWU9XCJ0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgICAgICAgICAge21lc3NhZ2UuY2l0YXRpb25zLmxlbmd0aH0gc291cmNle21lc3NhZ2UuY2l0YXRpb25zLmxlbmd0aCAhPT0gMSA/ICdzJyA6ICcnfVxuICAgICAgICAgICAgICAgICAgICA8L0JhZGdlPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8Q29sbGFwc2libGU+XG4gICAgICAgICAgICAgICAgICAgIDxDb2xsYXBzaWJsZVRyaWdnZXIgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmQgaG92ZXI6dGV4dC1mb3JlZ3JvdW5kIHRyYW5zaXRpb24tY29sb3JzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgU2hvdyBzb3VyY2VzIOKGk1xuICAgICAgICAgICAgICAgICAgICA8L0NvbGxhcHNpYmxlVHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgICAgPENvbGxhcHNpYmxlQ29udGVudCBjbGFzc05hbWU9XCJtdC0yIHNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIHttZXNzYWdlLmNpdGF0aW9ucy5tYXAoKGNpdGF0aW9uLCBpZHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkIGtleT17aWR4fSBjbGFzc05hbWU9XCJ0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9XCJwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIG1iLTFcIj57Y2l0YXRpb24udGl0bGV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkLWZvcmVncm91bmQgbWItMiBsaW5lLWNsYW1wLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjaXRhdGlvbi5jb250ZW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkLWZvcmVncm91bmRcIj57Y2l0YXRpb24uc291cmNlfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjaXRhdGlvbi5zY29yZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCYWRnZSB2YXJpYW50PVwib3V0bGluZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsoY2l0YXRpb24uc2NvcmUgKiAxMDApLnRvRml4ZWQoMCl9JSBtYXRjaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0JhZGdlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgPC9Db2xsYXBzaWJsZUNvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICA8L0NvbGxhcHNpYmxlPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkpfVxuICAgICAgICB7aGlzdG9yeUxvYWRpbmcgJiYgbWVzc2FnZXMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlVwZGF0aW5nIGNvbnZlcnNhdGlvbuKApjwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHtpc0xvYWRpbmcgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LXN0YXJ0XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLW11dGVkIHJvdW5kZWQtbGcgcC00XCI+XG4gICAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cImgtNCB3LTQgYW5pbWF0ZS1zcGluXCIgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIDxkaXYgcmVmPXttZXNzYWdlc0VuZFJlZn0gLz5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogSW5wdXQgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci10IGJnLWJhY2tncm91bmQgcC00XCI+XG4gICAgICAgIHsvKiBGaWxlIFVwbG9hZCBBcmVhICovfVxuICAgICAgICB7dXBsb2FkZWRGaWxlICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTMgcC0zIGJnLWdyZWVuLTUwIGJvcmRlciBib3JkZXItZ3JlZW4tMjAwIHJvdW5kZWQtbGcgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgIDxDaGVja0NpcmNsZSBjbGFzc05hbWU9XCJoLTQgdy00IHRleHQtZ3JlZW4tNTAwXCIgLz5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWdyZWVuLTkwMFwiPnt1cGxvYWRlZEZpbGUuZmlsZU5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmVlbi02MDAgbWwtMlwiPih7Zm9ybWF0RmlsZVNpemUodXBsb2FkZWRGaWxlLmZpbGVTaXplKX0pPC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxuICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICBvbkNsaWNrPXtjbGVhclVwbG9hZGVkRmlsZX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1ncmVlbi03MDAgaG92ZXI6dGV4dC1ncmVlbi04MDBcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8WCBjbGFzc05hbWU9XCJoLTQgdy00XCIgLz5cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHt1cGxvYWRFcnJvciAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi0zIHAtMyBiZy1yZWQtNTAgYm9yZGVyIGJvcmRlci1yZWQtMjAwIHJvdW5kZWQtbGcgZmxleCBpdGVtcy1zdGFydCBnYXAtMlwiPlxuICAgICAgICAgICAgPEFsZXJ0Q2lyY2xlIGNsYXNzTmFtZT1cImgtNCB3LTQgdGV4dC1yZWQtNTAwIG10LTAuNVwiIC8+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtcmVkLTkwMFwiPlVwbG9hZCBFcnJvcjwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1yZWQtNjAwXCI+e3VwbG9hZEVycm9yfTwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXG4gICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFVwbG9hZEVycm9yKG51bGwpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXJlZC03MDAgaG92ZXI6dGV4dC1yZWQtODAwIG1sLWF1dG9cIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8WCBjbGFzc05hbWU9XCJoLTQgdy00XCIgLz5cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+XG4gICAgICAgICAgICA8c3Bhbj5QcmVzcyBFbnRlciB0byBzZW5kLCBTaGlmdCtFbnRlciBmb3IgYSBuZXcgbGluZS48L3NwYW4+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxuICAgICAgICAgICAgICAgIHNpemU9XCJpY29uXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJbnB1dEV4cGFuZGVkKHByZXYgPT4gIXByZXYpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtbXV0ZWQtZm9yZWdyb3VuZCBob3Zlcjp0ZXh0LWZvcmVncm91bmRcIlxuICAgICAgICAgICAgICAgIHRpdGxlPXtpbnB1dEV4cGFuZGVkID8gJ0NvbGxhcHNlIGlucHV0JyA6ICdFeHBhbmQgaW5wdXQnfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2lucHV0RXhwYW5kZWQgPyA8TWluaW1pemUyIGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPiA6IDxNYXhpbWl6ZTIgY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+fVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxuICAgICAgICAgICAgPFRleHRhcmVhXG4gICAgICAgICAgICAgIHZhbHVlPXtpbnB1dH1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MVGV4dEFyZWFFbGVtZW50PikgPT4gc2V0SW5wdXQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17dXBsb2FkZWRGaWxlID9cbiAgICAgICAgICAgICAgICAodXBsb2FkZWRGaWxlLmZpbGVOYW1lLm1hdGNoKC9cXC4ocG5nfGpwZ3xqcGVnfGdpZnxibXB8dGlmZnx3ZWJwKSQvaSkgP1xuICAgICAgICAgICAgICAgICAgXCJEZXNjcmliZSB3aGF0IHlvdSBzZWUgaW4gdGhlIGltYWdlIG9yIGFzayBxdWVzdGlvbnMgYWJvdXQgaXQuLi5cIiA6XG4gICAgICAgICAgICAgICAgICBcIkFzayBxdWVzdGlvbnMgYWJvdXQgdGhlIHVwbG9hZGVkIGRvY3VtZW50Li4uXCIpIDpcbiAgICAgICAgICAgICAgICBcIkFzayBhIHF1ZXN0aW9uIGFib3V0IHlvdXIgZG9jdW1lbnRzLi4uXCJ9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCBwci0xMiByZXNpemUteSAke2lucHV0RXhwYW5kZWQgPyAnbWluLWgtWzE4MHB4XScgOiAnbWluLWgtWzgwcHhdJ30gbWF4LWgtWzMyMHB4XWB9XG4gICAgICAgICAgICAgIG9uS2V5RG93bj17KGU6IFJlYWN0LktleWJvYXJkRXZlbnQ8SFRNTFRleHRBcmVhRWxlbWVudD4pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgJiYgIWUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgICAgICAgaGFuZGxlU3VibWl0KGUgYXMgYW55KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHJpZ2h0LTMgYm90dG9tLTMgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cImZpbGVcIlxuICAgICAgICAgICAgICAgIHJlZj17ZmlsZUlucHV0UmVmfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVGaWxlU2VsZWN0fVxuICAgICAgICAgICAgICAgIGFjY2VwdD17QUxMT1dFRF9FWFRFTlNJT05TLmpvaW4oJywnKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoaWRkZW5cIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCJcbiAgICAgICAgICAgICAgICBzaXplPVwiaWNvblwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gZmlsZUlucHV0UmVmLmN1cnJlbnQ/LmNsaWNrKCl9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzVXBsb2FkaW5nfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtNyB3LTdcIlxuICAgICAgICAgICAgICAgIHRpdGxlPVwiVXBsb2FkIGRvY3VtZW50IGZvciBhbmFseXNpc1wiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7aXNVcGxvYWRpbmcgPyAoXG4gICAgICAgICAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJoLTQgdy00IGFuaW1hdGUtc3BpblwiIC8+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxQYXBlcmNsaXAgY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+XG4gICAgICAgICAgICAgIHshdXBsb2FkZWRGaWxlICYmICfwn5KhIFRpcDogQ2xpY2sgdGhlIGNsaXAgaWNvbiBvciBkcmFnICYgZHJvcCBmaWxlcyB0byB1cGxvYWQgbG9ncywgY29uZmlncywgaW1hZ2VzLCBvciBvdGhlciBkb2N1bWVudHMuJ31cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwic3VibWl0XCIgZGlzYWJsZWQ9eyFpbnB1dC50cmltKCkgfHwgaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAge2lzTG9hZGluZyA/IDxMb2FkZXIyIGNsYXNzTmFtZT1cImgtNCB3LTQgYW5pbWF0ZS1zcGluXCIgLz4gOiA8PjxTZW5kIGNsYXNzTmFtZT1cImgtNCB3LTQgbXItMVwiIC8+IFNlbmQ8Lz59XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuXG4gICAgICAgIHshdXBsb2FkZWRGaWxlICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgdGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5cbiAgICAgICAgICAgIE5lZWQgdG8gZGVzY3JpYmUgYSBsb25nZXIgaXNzdWU/IEV4cGFuZCB0aGUgaW5wdXQgb3IgYXR0YWNoIGZpbGVzIGZvciBkZWVwZXIgYW5hbHlzaXMuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICAgIHsvKiBUb2FzdCBub3RpZmljYXRpb24gZm9yIGNvcHkgZmVlZGJhY2sgKi99XG4gICAgICA8VG9hc3QuUHJvdmlkZXIgc3dpcGVEaXJlY3Rpb249XCJyaWdodFwiPlxuICAgICAgICA8VG9hc3QuUm9vdCBvcGVuPXt0b2FzdE9wZW59IG9uT3BlbkNoYW5nZT17c2V0VG9hc3RPcGVufSBkdXJhdGlvbj17MjAwMH0gY2xhc3NOYW1lPVwiYmctYmxhY2sgdGV4dC13aGl0ZSBweC00IHB5LTIgcm91bmRlZCBzaGFkb3ctbGdcIj5cbiAgICAgICAgICA8VG9hc3QuVGl0bGU+e3RvYXN0TXNnfTwvVG9hc3QuVGl0bGU+XG4gICAgICAgIDwvVG9hc3QuUm9vdD5cbiAgICAgICAgPFRvYXN0LlZpZXdwb3J0IGNsYXNzTmFtZT1cImZpeGVkIGJvdHRvbS00IHJpZ2h0LTQgei01MFwiIC8+XG4gICAgICA8L1RvYXN0LlByb3ZpZGVyPlxuICAgIDwvZGl2PlxuICApXG59XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZVJlZiIsInVzZUVmZmVjdCIsInVzZUF1dGgiLCJDb3B5IiwiVG9hc3QiLCJNZXNzYWdlUmVuZGVyZXIiLCJmb3JtYXRNZXNzYWdlRm9yQ29weSIsIm1lc3NhZ2UiLCJ0ZXh0IiwiY29udGVudCIsImNpdGF0aW9ucyIsImxlbmd0aCIsImMiLCJ0aXRsZSIsInNvdXJjZSIsInNjb3JlIiwidG9GaXhlZCIsInRpbWVzdGFtcCIsInRvTG9jYWxlU3RyaW5nIiwiY29weVRvQ2xpcGJvYXJkIiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwid3JpdGVUZXh0IiwidGV4dGFyZWEiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJ2YWx1ZSIsImJvZHkiLCJhcHBlbmRDaGlsZCIsInNlbGVjdCIsImV4ZWNDb21tYW5kIiwicmVtb3ZlQ2hpbGQiLCJTZW5kIiwiTG9hZGVyMiIsIkZpbGVUZXh0IiwiU2VhcmNoIiwiR2xvYmUiLCJQYXBlcmNsaXAiLCJYIiwiVXBsb2FkIiwiQ2hlY2tDaXJjbGUiLCJBbGVydENpcmNsZSIsIk1heGltaXplMiIsIk1pbmltaXplMiIsIkJ1dHRvbiIsIlRleHRhcmVhIiwiQ2FyZCIsIkNhcmRDb250ZW50IiwiQmFkZ2UiLCJDb2xsYXBzaWJsZSIsIkNvbGxhcHNpYmxlQ29udGVudCIsIkNvbGxhcHNpYmxlVHJpZ2dlciIsIkFMTE9XRURfRVhURU5TSU9OUyIsIk1BWF9GSUxFX1NJWkUiLCJDaGF0SW50ZXJmYWNlIiwiY29udmVyc2F0aW9uSWQiLCJvbkNvbnZlcnNhdGlvbkNyZWF0ZWQiLCJvbkNvbnZlcnNhdGlvbkFjdGl2aXR5IiwiYWNjZXNzVG9rZW4iLCJtZXNzYWdlcyIsInNldE1lc3NhZ2VzIiwiaW5wdXQiLCJzZXRJbnB1dCIsImlzTG9hZGluZyIsInNldElzTG9hZGluZyIsInVwbG9hZGVkRmlsZSIsInNldFVwbG9hZGVkRmlsZSIsImlzVXBsb2FkaW5nIiwic2V0SXNVcGxvYWRpbmciLCJ1cGxvYWRFcnJvciIsInNldFVwbG9hZEVycm9yIiwiaXNEcmFnT3ZlciIsInNldElzRHJhZ092ZXIiLCJpbnB1dEV4cGFuZGVkIiwic2V0SW5wdXRFeHBhbmRlZCIsIm1lc3NhZ2VzRW5kUmVmIiwiZmlsZUlucHV0UmVmIiwiY2hhdENvbnRhaW5lclJlZiIsInNjcm9sbFRvQm90dG9tIiwiY3VycmVudCIsInNjcm9sbEludG9WaWV3IiwiYmVoYXZpb3IiLCJoaXN0b3J5TG9hZGluZyIsInNldEhpc3RvcnlMb2FkaW5nIiwiaGlzdG9yeUVycm9yIiwic2V0SGlzdG9yeUVycm9yIiwiY2FuY2VsbGVkIiwibG9hZEhpc3RvcnkiLCJpZCIsInJlc3BvbnNlIiwiZmV0Y2giLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsImNhY2hlIiwib2siLCJzdGF0dXMiLCJkZXRhaWwiLCJjYXRjaCIsIkVycm9yIiwiZGF0YSIsImpzb24iLCJtYXBwZWQiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJtc2ciLCJTdHJpbmciLCJyb2xlIiwidW5kZWZpbmVkIiwic2VhcmNoVHlwZSIsIm1ldGhvZCIsIkRhdGUiLCJjcmVhdGVkQXQiLCJjcmVhdGVkX2F0IiwidG9JU09TdHJpbmciLCJlcnJvciIsImNvbnNvbGUiLCJ2YWxpZGF0ZUZpbGUiLCJmaWxlIiwic2l6ZSIsImV4dGVuc2lvbiIsIm5hbWUiLCJ0b0xvd2VyQ2FzZSIsInN1YnN0cmluZyIsImxhc3RJbmRleE9mIiwiaW5jbHVkZXMiLCJqb2luIiwiaGFuZGxlRmlsZVVwbG9hZCIsInZhbGlkYXRpb25FcnJvciIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJyZXN1bHQiLCJzdWNjZXNzIiwic2Vzc2lvbklkIiwiZmlsZU5hbWUiLCJmaWxlU2l6ZSIsInVwbG9hZFRpbWUiLCJzeXN0ZW1NZXNzYWdlIiwibm93IiwidG9TdHJpbmciLCJmb3JtYXRGaWxlU2l6ZSIsInByZXYiLCJoYW5kbGVGaWxlU2VsZWN0IiwiZXZlbnQiLCJmaWxlcyIsInRhcmdldCIsImNsZWFyVXBsb2FkZWRGaWxlIiwiYnl0ZXMiLCJrIiwic2l6ZXMiLCJpIiwiTWF0aCIsImZsb29yIiwibG9nIiwicGFyc2VGbG9hdCIsInBvdyIsImhhbmRsZURyYWdFbnRlciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsImhhbmRsZURyYWdMZWF2ZSIsImNvbnRhaW5zIiwicmVsYXRlZFRhcmdldCIsImhhbmRsZURyYWdPdmVyIiwiaGFuZGxlRHJvcCIsImRhdGFUcmFuc2ZlciIsInRvYXN0T3BlbiIsInNldFRvYXN0T3BlbiIsInRvYXN0TXNnIiwic2V0VG9hc3RNc2ciLCJoYW5kbGVHbG9iYWxEcmFnRW50ZXIiLCJ0eXBlcyIsImhhbmRsZUdsb2JhbERyYWdMZWF2ZSIsImNsaWVudFgiLCJjbGllbnRZIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVTdWJtaXQiLCJyYXdJbnB1dCIsInRyaW0iLCJjb21tYW5kTWF0Y2giLCJtYXRjaCIsImRpc3BsYXlDb250ZW50Iiwib3V0Ym91bmRDb250ZW50IiwiYWN0aW9uIiwiY2FzZU51bWJlciIsInVzZXJNZXNzYWdlIiwiY3VycmVudElucHV0IiwiSlNPTiIsInN0cmluZ2lmeSIsInF1ZXJ5IiwibWF4UmVzdWx0cyIsImFzc2lzdGFudE1lc3NhZ2UiLCJyZXN1bHRzIiwiciIsImlkeCIsInJhbmsiLCJzaW1pbGFyaXR5IiwiZGlzcGxheU1lc3NhZ2UiLCJyZWFkZXIiLCJnZXRSZWFkZXIiLCJyZXNvbHZlZENvbnZlcnNhdGlvbklkIiwiZG9uZSIsInJlYWQiLCJjaHVuayIsIlRleHREZWNvZGVyIiwiZGVjb2RlIiwibGluZXMiLCJzcGxpdCIsImxpbmUiLCJzdGFydHNXaXRoIiwicGFyc2UiLCJzbGljZSIsInR5cGUiLCJtIiwidG9rZW4iLCJzb3VyY2VzIiwid2FybiIsImVycm9yTWVzc2FnZSIsImdldFNlYXJjaEljb24iLCJjbGFzc05hbWUiLCJnZXRTZWFyY2hMYWJlbCIsImRpdiIsInJlZiIsIm9uRHJhZ0VudGVyIiwib25EcmFnTGVhdmUiLCJvbkRyYWdPdmVyIiwib25Ecm9wIiwiaDMiLCJwIiwiYnV0dG9uIiwiYXJpYS1sYWJlbCIsImRhdGEtdGVzdGlkIiwib25DbGljayIsInNwYW4iLCJ2YXJpYW50IiwiY2l0YXRpb24iLCJmb3JtIiwib25TdWJtaXQiLCJvbkNoYW5nZSIsInBsYWNlaG9sZGVyIiwib25LZXlEb3duIiwia2V5Iiwic2hpZnRLZXkiLCJhY2NlcHQiLCJjbGljayIsImRpc2FibGVkIiwiUHJvdmlkZXIiLCJzd2lwZURpcmVjdGlvbiIsIlJvb3QiLCJvcGVuIiwib25PcGVuQ2hhbmdlIiwiZHVyYXRpb24iLCJUaXRsZSIsIlZpZXdwb3J0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/chat/chat-interface.tsx\n"));

/***/ })

});