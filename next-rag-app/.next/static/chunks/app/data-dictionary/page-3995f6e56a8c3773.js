(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[649],{6008:function(e,a,s){Promise.resolve().then(s.bind(s,5421))},5421:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return V}});var t=s(7437),n=s(2265),r=s(9205);let l=(0,r.Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);var i=s(7689);let c=(0,r.Z)("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]),d=(0,r.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),o=(0,r.Z)("Table2",[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]]),u=(0,r.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),m=(0,r.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),h=(0,r.Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),x=(0,r.Z)("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);var p=s(1671);let f=(0,r.Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var j=s(8728),v=s(3247);let b=(0,r.Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var g=s(2869),y=s(6070),N=s(5974),_=s(4508);let S=n.forwardRef((e,a)=>{let{className:s,type:n,...r}=e;return(0,t.jsx)("input",{type:n,className:(0,_.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...r})});S.displayName="Input";let w=n.createContext(null),C=e=>{let{value:a,onValueChange:s,children:r}=e,[l,i]=n.useState(!1),c=n.useRef(null);return n.useEffect(()=>{let e=e=>{c.current&&!c.current.contains(e.target)&&i(!1)};if(l)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[l]),(0,t.jsx)(w.Provider,{value:{value:a,onValueChange:s,isOpen:l,setIsOpen:i},children:(0,t.jsx)("div",{ref:c,className:"relative",children:r})})},k=n.forwardRef((e,a)=>{let{className:s,children:r,...l}=e,i=n.useContext(w);if(!i)throw Error("SelectTrigger must be used within Select");return(0,t.jsxs)("button",{type:"button",ref:a,className:(0,_.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),onClick:()=>i.setIsOpen(!i.isOpen),...l,children:[r,(0,t.jsx)("svg",{className:(0,_.cn)("h-4 w-4 opacity-50 transition-transform",i.isOpen&&"rotate-180"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"m6 9 6 6 6-6"})})]})});k.displayName="SelectTrigger";let E=e=>{let{placeholder:a}=e,s=n.useContext(w);return(0,t.jsx)("span",{children:(null==s?void 0:s.value)||a||"Select..."})},D=e=>{let{children:a}=e,s=n.useContext(w);if(!s)throw Error("SelectContent must be used within Select");return s.isOpen?(0,t.jsx)("div",{className:"absolute top-full left-0 z-50 w-full min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95",children:a}):null},A=e=>{let{value:a,children:s}=e,r=n.useContext(w);if(!r)throw Error("SelectItem must be used within Select");return(0,t.jsxs)("div",{className:"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground cursor-pointer data-[selected=true]:bg-accent",onClick:()=>{r.onValueChange(a),r.setIsOpen(!1)},"data-selected":r.value===a,children:[r.value===a&&(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),s]})},L=n.createContext(null),O=e=>{let{defaultValue:a,value:s,onValueChange:r,children:l,className:i}=e,[c,d]=n.useState(a||"");return(0,t.jsx)(L.Provider,{value:{value:void 0!==s?s:c,onValueChange:r||d},children:(0,t.jsx)("div",{className:(0,_.cn)("w-full",i),children:l})})},R=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)("div",{ref:a,className:(0,_.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...n})});R.displayName="TabsList";let I=n.forwardRef((e,a)=>{let{className:s,value:r,...l}=e,i=n.useContext(L);return(0,t.jsx)("button",{ref:a,type:"button",className:(0,_.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",(null==i?void 0:i.value)===r?"bg-background text-foreground shadow-sm":"hover:bg-muted hover:text-foreground",s),onClick:()=>null==i?void 0:i.onValueChange(r),...l})});I.displayName="TabsTrigger";let F=n.forwardRef((e,a)=>{let{className:s,value:r,...l}=e,i=n.useContext(L);return(null==i?void 0:i.value)!==r?null:(0,t.jsx)("div",{ref:a,className:(0,_.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...l})});F.displayName="TabsContent";var M=s(6110);let T=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)("label",{ref:a,className:(0,_.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",s),...n})});function V(){let[e,a]=(0,n.useState)([]),[s,r]=(0,n.useState)(""),[v,b]=(0,n.useState)([]),[_,w]=(0,n.useState)([]),[L,V]=(0,n.useState)([]),[q,P]=(0,n.useState)(!1),[U,H]=(0,n.useState)(""),[B,Y]=(0,n.useState)(""),[J,W]=(0,n.useState)(""),[K,$]=(0,n.useState)(""),[G,X]=(0,n.useState)(!1),[ee,ea]=(0,n.useState)(null),[es,et]=(0,n.useState)({rni_version_id:0,database_type:"PostgreSQL",database_name:"",created_by:""}),[en,er]=(0,n.useState)(!1),[el,ei]=(0,n.useState)(!1),[ec,ed]=(0,n.useState)(""),[eo,eu]=(0,n.useState)(""),[em,eh]=(0,n.useState)(null);(0,n.useEffect)(()=>{ex(),(async()=>{try{let e=await fetch("/api/reranker/data-dictionary/rni-versions"),a=(await e.json()).find(e=>e.is_active);a&&r(a.version_number)}catch(e){console.error("Failed to set initial version:",e)}})()},[]),(0,n.useEffect)(()=>{s&&(ep(),ef())},[s]),(0,n.useEffect)(()=>{s&&ep()},[B,J]),(0,n.useEffect)(()=>{s&&(ep(),ef())},[s,B,J]);let ex=async()=>{try{let e=await fetch("/api/reranker/data-dictionary/rni-versions"),t=await e.json();if(a(t),t.length>0&&!s){let e=t.find(e=>e.is_active)||t[0];r(e.version_number)}}catch(e){console.error("Failed to fetch RNI versions:",e)}},ep=async()=>{P(!0);try{let e=new URLSearchParams;s&&e.append("version_number",s),B&&e.append("database_name",B),J&&e.append("schema_name",J);let a=await fetch("/api/reranker/data-dictionary/schema-overview?".concat(e)),t=await a.json();b(t)}catch(e){console.error("Failed to fetch schema overview:",e)}finally{P(!1)}},ef=async()=>{if(s)try{let a=e.find(e=>e.version_number===s);if(!a)return;let t=await fetch("/api/reranker/data-dictionary/database-instances?rni_version_id=".concat(a.id)),n=await t.json();V(n)}catch(e){console.error("Failed to fetch database instances:",e)}},ej=async e=>{try{let a=new URLSearchParams;s&&a.append("version_number",s),B&&a.append("database_name",B),J&&a.append("schema_name",J),e&&a.append("table_name",e);let t=await fetch("/api/reranker/data-dictionary/column-details?".concat(a)),n=await t.json();w(n),$(e)}catch(e){console.error("Failed to fetch column details:",e)}},ev=e=>{navigator.clipboard.writeText(e).then(()=>alert("Query copied to clipboard!")).catch(e=>console.error("Failed to copy text: ",e))},eb=async()=>{if(ee){P(!0);try{let s=new FormData;s.append("file",ee),s.append("rni_version_id",es.rni_version_id.toString()),s.append("database_type",es.database_type),s.append("database_name",es.database_name),s.append("created_by",es.created_by);let t=await fetch("/api/data-dictionary/upload-schema",{method:"POST",body:s});if(t.ok){var e,a;let s=await t.json();alert("Schema upload successful! Imported ".concat((null===(e=s.statistics)||void 0===e?void 0:e.tables)||0," tables and ").concat((null===(a=s.statistics)||void 0===a?void 0:a.columns)||0," columns.")),X(!1),ea(null),ep(),ef()}else{let e=await t.json();alert("Schema upload failed: ".concat(e.detail||"Unknown error"))}}catch(e){console.error("Schema upload error:",e),alert("Schema upload failed. Please try again.")}finally{P(!1)}}},eg=async()=>{if(ec&&eo){P(!0);try{let e=new URLSearchParams({version1:ec,version2:eo});B&&e.append("database_name",B);let a=await fetch("/api/reranker/data-dictionary/compare-schemas?".concat(e)),s=await a.json();eh(s)}catch(e){console.error("Failed to compare schemas:",e)}finally{P(!1)}}},ey=v.filter(e=>{if(B&&e.database_name!==B||J&&e.schema_name!==J)return!1;if(U){let a=U.toLowerCase();return e.table_name.toLowerCase().includes(a)||e.schema_name.toLowerCase().includes(a)||e.database_name.toLowerCase().includes(a)||(e.table_description||"").toLowerCase().includes(a)}return!0}),eN=[...new Set(v.map(e=>e.database_name))],e_=[...new Set(v.filter(e=>!B||e.database_name===B).map(e=>e.schema_name))];return(0,t.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[(0,t.jsx)(l,{className:"h-8 w-8"}),"Data Dictionary Manager"]}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage database schemas for MSSQL and PostgreSQL databases by RNI version"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(M.Vq,{open:G,onOpenChange:X,children:[(0,t.jsx)(M.hg,{asChild:!0,children:(0,t.jsxs)(g.z,{children:[(0,t.jsx)(i.Z,{className:"h-4 w-4 mr-2"}),"Upload Schema"]})}),(0,t.jsxs)(M.cZ,{className:"max-w-2xl",children:[(0,t.jsxs)(M.fK,{children:[(0,t.jsx)(M.$N,{children:"Upload Database Schema"}),(0,t.jsx)(M.Be,{children:"Upload schema data for Sensus AMI databases. You'll need to run the provided SQL query on your database and upload the CSV results."})]}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(T,{htmlFor:"rni_version",children:"RNI Version"}),(0,t.jsxs)(C,{value:es.rni_version_id.toString(),onValueChange:e=>et(a=>({...a,rni_version_id:parseInt(e)})),children:[(0,t.jsx)(k,{children:(0,t.jsx)(E,{placeholder:"Select RNI Version"})}),(0,t.jsx)(D,{children:e.map(e=>(0,t.jsxs)(A,{value:e.id.toString(),children:[e.version_number," - ",e.version_name]},e.id))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(T,{htmlFor:"database_type",children:"Database Type"}),(0,t.jsxs)(C,{value:es.database_type,onValueChange:e=>et(a=>({...a,database_type:e})),children:[(0,t.jsx)(k,{children:(0,t.jsx)(E,{})}),(0,t.jsxs)(D,{children:[(0,t.jsx)(A,{value:"PostgreSQL",children:"PostgreSQL"}),(0,t.jsx)(A,{value:"MSSQL",children:"Microsoft SQL Server"})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(T,{htmlFor:"database_name",children:"Database Name"}),(0,t.jsx)(S,{id:"database_name",value:es.database_name,onChange:e=>et(a=>({...a,database_name:e.target.value})),placeholder:"e.g., FlexnetDB, AMDS, Router, FWDL"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(T,{htmlFor:"schema_file",children:"Schema CSV File"}),(0,t.jsx)(S,{id:"schema_file",type:"file",accept:".csv",onChange:e=>{var a;return ea((null===(a=e.target.files)||void 0===a?void 0:a[0])||null)},className:"cursor-pointer"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Upload a CSV file generated by running the extraction query on your database. See the query help section below."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(T,{htmlFor:"created_by",children:"Created By"}),(0,t.jsx)(S,{id:"created_by",value:es.created_by,onChange:e=>et(a=>({...a,created_by:e.target.value})),placeholder:"Your name or username"})]}),(0,t.jsxs)("div",{className:"border rounded-lg p-4 bg-amber-50 border-amber-200",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h4",{className:"font-medium text-amber-800",children:"\uD83D\uDCCB Schema Extraction Query"}),(0,t.jsxs)(g.z,{type:"button",variant:"outline",onClick:()=>er(!en),className:"text-xs",children:[en?"Hide":"Show"," Query"]})]}),en&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("p",{className:"text-sm text-amber-700",children:[(0,t.jsx)("strong",{children:"⚠️ Important:"})," You must run this query on your ",es.database_type," database to generate the CSV file for upload:"]}),(0,t.jsxs)("div",{className:"relative bg-gray-900 text-gray-100 p-3 rounded text-xs font-mono overflow-x-auto",children:[(0,t.jsx)(g.z,{type:"button",variant:"outline",onClick:()=>ev("MSSQL"===es.database_type?Z(es.database_name):z(es.database_name)),className:"absolute top-2 right-2 h-6 px-2 text-xs bg-gray-700 hover:bg-gray-600 border-gray-600",children:"\uD83D\uDCCB Copy"}),(0,t.jsx)("pre",{className:"whitespace-pre-wrap pr-16",children:"MSSQL"===es.database_type?Z(es.database_name):z(es.database_name)})]}),(0,t.jsxs)("div",{className:"text-xs text-amber-700 bg-white p-3 rounded border",children:[(0,t.jsx)("p",{children:(0,t.jsx)("strong",{children:"\uD83D\uDCDD Step-by-step Instructions:"})}),(0,t.jsxs)("ol",{className:"list-decimal list-inside space-y-1 mt-2",children:[(0,t.jsx)("li",{children:"Copy the SQL query above"}),(0,t.jsxs)("li",{children:["Connect to your ",es.database_name," database"]}),(0,t.jsx)("li",{children:"Execute the query in your SQL client"}),(0,t.jsx)("li",{children:"Export the query results as a CSV file"}),(0,t.jsx)("li",{children:"Upload the generated CSV file using the file selector above"})]}),(0,t.jsxs)("p",{className:"mt-2 text-amber-600",children:[(0,t.jsx)("strong",{children:"Note:"})," This system cannot directly access your database servers. You must generate and upload the schema data manually."]})]})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(g.z,{variant:"outline",onClick:()=>X(!1),children:"Cancel"}),(0,t.jsx)(g.z,{onClick:eb,disabled:q||!ee,children:q?"Uploading...":"Upload Schema"})]})]})]}),(0,t.jsxs)(M.Vq,{open:el,onOpenChange:ei,children:[(0,t.jsx)(M.hg,{asChild:!0,children:(0,t.jsxs)(g.z,{variant:"outline",children:[(0,t.jsx)(c,{className:"h-4 w-4 mr-2"}),"Compare Versions"]})}),(0,t.jsxs)(M.cZ,{children:[(0,t.jsxs)(M.fK,{children:[(0,t.jsx)(M.$N,{children:"Compare Schema Versions"}),(0,t.jsx)(M.Be,{children:"Compare database schemas between two RNI versions"})]}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(T,{htmlFor:"version1",children:"Version 1"}),(0,t.jsxs)(C,{value:ec,onValueChange:ed,children:[(0,t.jsx)(k,{children:(0,t.jsx)(E,{placeholder:"Select first version"})}),(0,t.jsx)(D,{children:e.map(e=>(0,t.jsx)(A,{value:e.version_number,children:e.version_number},e.id))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(T,{htmlFor:"version2",children:"Version 2"}),(0,t.jsxs)(C,{value:eo,onValueChange:eu,children:[(0,t.jsx)(k,{children:(0,t.jsx)(E,{placeholder:"Select second version"})}),(0,t.jsx)(D,{children:e.map(e=>(0,t.jsx)(A,{value:e.version_number,children:e.version_number},e.id))})]})]})]}),(0,t.jsx)(g.z,{onClick:eg,disabled:!ec||!eo||q,children:q?"Comparing...":"Compare Schemas"}),em&&(0,t.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Comparison Results:"}),(0,t.jsx)("div",{className:"max-h-60 overflow-y-auto",children:em.changes.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 bg-muted rounded",children:[(0,t.jsxs)("span",{className:"text-sm",children:[e.schema_name,".",e.table_name,".",e.column_name]}),(0,t.jsx)(N.C,{variant:"ADDED"===e.change_type?"default":"REMOVED"===e.change_type?"destructive":"secondary",children:e.change_type})]},a))})]})]})]})]})]})]}),(0,t.jsxs)(y.Zb,{children:[(0,t.jsx)(y.Ol,{children:(0,t.jsxs)(y.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(d,{className:"h-5 w-5"}),"Filters"]})}),(0,t.jsx)(y.aY,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(T,{children:"RNI Version"}),(0,t.jsxs)(C,{value:s,onValueChange:e=>{r(e),Y(""),W(""),w([]),$("")},children:[(0,t.jsx)(k,{children:(0,t.jsx)(E,{placeholder:"Select RNI Version"})}),(0,t.jsx)(D,{children:e.map(e=>(0,t.jsxs)(A,{value:e.version_number,children:[e.version_number,e.is_active&&(0,t.jsx)(N.C,{className:"ml-2",children:"Active"})]},e.id))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(T,{children:"Database"}),(0,t.jsxs)(C,{value:B,onValueChange:e=>{Y(e),W("")},children:[(0,t.jsx)(k,{children:(0,t.jsx)(E,{placeholder:"All Databases"})}),(0,t.jsxs)(D,{children:[(0,t.jsx)(A,{value:"",children:"All Databases"}),eN.map(e=>(0,t.jsx)(A,{value:e,children:e},e))]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(T,{children:"Schema"}),(0,t.jsxs)(C,{value:J,onValueChange:W,children:[(0,t.jsx)(k,{children:(0,t.jsx)(E,{placeholder:"All Schemas"})}),(0,t.jsxs)(D,{children:[(0,t.jsx)(A,{value:"",children:"All Schemas"}),e_.map(e=>(0,t.jsx)(A,{value:e,children:e},e))]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(T,{children:"Search Tables"}),(0,t.jsx)(S,{placeholder:"Search tables...",value:U,onChange:e=>H(e.target.value)})]})]})})]}),(0,t.jsxs)(O,{defaultValue:"overview",className:"space-y-4",children:[(0,t.jsxs)(R,{children:[(0,t.jsx)(I,{value:"overview",children:"Schema Overview"}),(0,t.jsx)(I,{value:"columns",children:"Column Details"}),(0,t.jsx)(I,{value:"instances",children:"Database Instances"}),(0,t.jsx)(I,{value:"ami-assistant",children:"Technical Services Assistant"})]}),(0,t.jsx)(F,{value:"overview",children:(0,t.jsxs)(y.Zb,{children:[(0,t.jsx)(y.Ol,{children:(0,t.jsxs)(y.ll,{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)(o,{className:"h-5 w-5"}),"Schema Overview (",ey.length," tables)"]}),(0,t.jsxs)(g.z,{variant:"outline",size:"sm",children:[(0,t.jsx)(u,{className:"h-4 w-4 mr-2"}),"Export"]})]})}),(0,t.jsx)(y.aY,{children:q?(0,t.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,t.jsx)(m,{className:"h-6 w-6 animate-spin mr-2"}),"Loading schema data..."]}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b",children:[(0,t.jsx)("th",{className:"text-left p-2",children:"Database"}),(0,t.jsx)("th",{className:"text-left p-2",children:"Schema"}),(0,t.jsx)("th",{className:"text-left p-2",children:"Table"}),(0,t.jsx)("th",{className:"text-left p-2",children:"Type"}),(0,t.jsx)("th",{className:"text-left p-2",children:"Columns"}),(0,t.jsx)("th",{className:"text-left p-2",children:"Rows"}),(0,t.jsx)("th",{className:"text-left p-2",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:ey.map((e,a)=>(0,t.jsxs)("tr",{className:"border-b hover:bg-muted/50",children:[(0,t.jsx)("td",{className:"p-2",children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(l,{className:"h-4 w-4"}),e.database_name,(0,t.jsx)(N.C,{variant:"outline",children:e.database_type})]})}),(0,t.jsx)("td",{className:"p-2",children:e.schema_name}),(0,t.jsx)("td",{className:"p-2",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.table_name}),e.table_description&&(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:e.table_description})]})}),(0,t.jsx)("td",{className:"p-2",children:(0,t.jsx)(N.C,{variant:"TABLE"===e.table_type?"default":"secondary",children:e.table_type})}),(0,t.jsx)("td",{className:"p-2",children:e.column_count}),(0,t.jsx)("td",{className:"p-2",children:null!==e.row_count?e.row_count.toLocaleString():"N/A"}),(0,t.jsx)("td",{className:"p-2",children:(0,t.jsx)(g.z,{variant:"ghost",size:"sm",onClick:()=>ej(e.table_name),children:(0,t.jsx)(h,{className:"h-4 w-4"})})})]},a))})]})})})]})}),(0,t.jsx)(F,{value:"columns",children:(0,t.jsxs)(y.Zb,{children:[(0,t.jsx)(y.Ol,{children:(0,t.jsxs)(y.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(x,{className:"h-5 w-5"}),"Column Details",K&&(0,t.jsxs)("span",{className:"text-muted-foreground",children:["- ",K]})]})}),(0,t.jsx)(y.aY,{children:_.length>0?(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b",children:[(0,t.jsx)("th",{className:"text-left p-2",children:"#"}),(0,t.jsx)("th",{className:"text-left p-2",children:"Column Name"}),(0,t.jsx)("th",{className:"text-left p-2",children:"Data Type"}),(0,t.jsx)("th",{className:"text-left p-2",children:"Nullable"}),(0,t.jsx)("th",{className:"text-left p-2",children:"Key"}),(0,t.jsx)("th",{className:"text-left p-2",children:"Default"}),(0,t.jsx)("th",{className:"text-left p-2",children:"Description"})]})}),(0,t.jsx)("tbody",{children:_.map((e,a)=>(0,t.jsxs)("tr",{className:"border-b hover:bg-muted/50",children:[(0,t.jsx)("td",{className:"p-2",children:e.ordinal_position}),(0,t.jsx)("td",{className:"p-2 font-medium",children:e.column_name}),(0,t.jsx)("td",{className:"p-2",children:(0,t.jsxs)("code",{className:"text-sm bg-muted px-1 rounded",children:[e.data_type,e.max_length&&"(".concat(e.max_length,")"),e.precision_value&&e.scale_value&&"(".concat(e.precision_value,",").concat(e.scale_value,")")]})}),(0,t.jsx)("td",{className:"p-2",children:e.is_nullable?(0,t.jsx)(p.Z,{className:"h-4 w-4 text-green-500"}):(0,t.jsx)(f,{className:"h-4 w-4 text-red-500"})}),(0,t.jsx)("td",{className:"p-2",children:(0,t.jsxs)("div",{className:"flex gap-1",children:[e.is_primary_key&&(0,t.jsx)(N.C,{children:"PK"}),e.is_foreign_key&&(0,t.jsx)(N.C,{variant:"outline",children:"FK"}),e.is_identity&&(0,t.jsx)(N.C,{variant:"secondary",children:"ID"})]})}),(0,t.jsx)("td",{className:"p-2 text-sm text-muted-foreground",children:e.default_value||"-"}),(0,t.jsx)("td",{className:"p-2 text-sm text-muted-foreground",children:e.description||"-"})]},a))})]})}):(0,t.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"Select a table from the Schema Overview to view column details"})})]})}),(0,t.jsx)(F,{value:"instances",children:(0,t.jsxs)(y.Zb,{children:[(0,t.jsx)(y.Ol,{children:(0,t.jsxs)(y.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(j.Z,{className:"h-5 w-5"}),"Database Instances"]})}),(0,t.jsx)(y.aY,{children:(0,t.jsx)("div",{className:"grid gap-4",children:L.map(e=>(0,t.jsx)(y.Zb,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"font-medium flex items-center gap-2",children:[(0,t.jsx)(l,{className:"h-4 w-4"}),e.database_name,(0,t.jsx)(N.C,{variant:"outline",children:e.database_type}),e.is_active&&(0,t.jsx)(N.C,{children:"Active"})]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.server_name,":",e.port]}),e.description&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.description})]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsx)(g.z,{variant:"outline",size:"sm",children:(0,t.jsx)(j.Z,{className:"h-4 w-4"})})})]})},e.id))})})]})}),(0,t.jsx)(F,{value:"ami-assistant",children:(0,t.jsx)(Q,{})})]})]})}function Z(e){return"-- Sensus AMI ".concat(e," Schema Extraction Query (MSSQL)\n-- Run this query to extract schema information for data dictionary import\n\nSELECT \n    s.name AS schema_name,\n    t.name AS table_name,\n    c.name AS column_name,\n    ty.name AS data_type,\n    c.max_length,\n    c.precision,\n    c.scale,\n    c.is_nullable,\n    c.is_identity,\n    CASE WHEN pk.column_name IS NOT NULL THEN 1 ELSE 0 END AS is_primary_key,\n    ISNULL(cc.definition, '') AS default_value,\n    ISNULL(ep.value, '') AS column_description\nFROM sys.tables t\nINNER JOIN sys.schemas s ON t.schema_id = s.schema_id\nINNER JOIN sys.columns c ON t.object_id = c.object_id\nINNER JOIN sys.types ty ON c.user_type_id = ty.user_type_id\nLEFT JOIN (\n    SELECT \n        ic.object_id,\n        ic.column_id,\n        c.name AS column_name\n    FROM sys.indexes i\n    INNER JOIN sys.index_columns ic ON i.object_id = ic.object_id AND i.index_id = ic.index_id\n    INNER JOIN sys.columns c ON ic.object_id = c.object_id AND ic.column_id = c.column_id\n    WHERE i.is_primary_key = 1\n) pk ON t.object_id = pk.object_id AND c.column_id = pk.column_id\nLEFT JOIN sys.default_constraints cc ON c.default_object_id = cc.object_id\nLEFT JOIN sys.extended_properties ep ON t.object_id = ep.major_id AND c.column_id = ep.minor_id AND ep.name = 'MS_Description'\nWHERE t.type = 'U'  -- User tables only\nORDER BY s.name, t.name, c.column_id;")}function z(e){return"-- Sensus AMI ".concat(e," Schema Extraction Query (PostgreSQL)\n-- Run this query to extract schema information for data dictionary import\n\nSELECT \n    n.nspname AS schema_name,\n    c.relname AS table_name,\n    a.attname AS column_name,\n    t.typname AS data_type,\n    CASE WHEN a.attlen > 0 THEN a.attlen ELSE a.atttypmod - 4 END AS max_length,\n    0 AS precision,  -- PostgreSQL specific handling would go here\n    0 AS scale,      -- PostgreSQL specific handling would go here\n    NOT a.attnotnull AS is_nullable,\n    CASE WHEN a.attidentity != '' THEN true ELSE false END AS is_identity,\n    CASE WHEN pk.attname IS NOT NULL THEN true ELSE false END AS is_primary_key,\n    COALESCE(ad.adsrc, '') AS default_value,\n    COALESCE(d.description, '') AS column_description\nFROM pg_class c\nJOIN pg_namespace n ON c.relnamespace = n.oid\nJOIN pg_attribute a ON c.oid = a.attrelid\nJOIN pg_type t ON a.atttypid = t.oid\nLEFT JOIN pg_attrdef ad ON a.attrelid = ad.adrelid AND a.attnum = ad.adnum\nLEFT JOIN pg_description d ON c.oid = d.objoid AND a.attnum = d.objsubid\nLEFT JOIN (\n    SELECT \n        i.indrelid,\n        a.attname,\n        a.attnum\n    FROM pg_index i\n    JOIN pg_attribute a ON i.indrelid = a.attrelid AND a.attnum = ANY(i.indkey)\n    WHERE i.indisprimary = true\n) pk ON c.oid = pk.indrelid AND a.attnum = pk.attnum\nWHERE c.relkind = 'r'  -- Regular tables only\n  AND n.nspname NOT IN ('information_schema', 'pg_catalog', 'pg_toast')\n  AND a.attnum > 0     -- Exclude system columns\n  AND NOT a.attisdropped\nORDER BY n.nspname, c.relname, a.attnum;")}function Q(){var e;let[a,s]=(0,n.useState)(""),[r,l]=(0,n.useState)(""),[i,c]=(0,n.useState)(null),[d,o]=(0,n.useState)(!1),[u,h]=(0,n.useState)([]);(0,n.useEffect)(()=>{fetch("/api/data-dictionary/rni-versions").then(e=>e.json()).then(e=>h(e)).catch(e=>console.error("Failed to load RNI versions:",e))},[]);let x=async()=>{if(!a||!r){alert("Please select both RNI version and database name");return}o(!0);try{let e=await fetch("/api/data-dictionary/query-assistance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rni_version:a,database_name:r})}),s=await e.json();c(s)}catch(e){console.error("Query assistance failed:",e),c({status:"error",message:"Failed to get query assistance"})}finally{o(!1)}},j=e=>{navigator.clipboard.writeText(e),alert("Copied to clipboard!")};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(y.Zb,{children:[(0,t.jsxs)(y.Ol,{children:[(0,t.jsxs)(y.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(v.Z,{className:"h-5 w-5"}),"Technical Services Assistant"]}),(0,t.jsx)(y.SZ,{children:"Get help with database queries for Sensus AMI Infrastructure. Check if schema data is available or get SQL queries to extract schema information for upload."})]}),(0,t.jsxs)(y.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(T,{htmlFor:"rni-version",children:"RNI Version *"}),(0,t.jsxs)(C,{value:a,onValueChange:s,children:[(0,t.jsx)(k,{children:(0,t.jsx)(E,{placeholder:"Select RNI version"})}),(0,t.jsx)(D,{children:u.map(e=>(0,t.jsxs)(A,{value:e.version_number,children:[e.version_number," - ",e.version_name,e.is_active&&(0,t.jsx)(N.C,{className:"ml-2",children:"Active"})]},e.id))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(T,{htmlFor:"database-name",children:"Database Name *"}),(0,t.jsxs)(C,{value:r,onValueChange:l,children:[(0,t.jsx)(k,{children:(0,t.jsx)(E,{placeholder:"Select database"})}),(0,t.jsxs)(D,{children:[(0,t.jsx)(A,{value:"FlexnetDB",children:"FlexnetDB (MSSQL)"}),(0,t.jsx)(A,{value:"AMDS",children:"AMDS (PostgreSQL)"}),(0,t.jsx)(A,{value:"Router",children:"Router (PostgreSQL)"}),(0,t.jsx)(A,{value:"FWDL",children:"FWDL (PostgreSQL)"})]})]})]})]}),(0,t.jsx)(g.z,{onClick:x,disabled:d||!a||!r,className:"w-full",children:d?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m,{className:"h-4 w-4 mr-2 animate-spin"}),"Checking Data Dictionary..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.Z,{className:"h-4 w-4 mr-2"}),"Get Query Assistance"]})})]})]}),i&&(0,t.jsxs)(y.Zb,{children:[(0,t.jsx)(y.Ol,{children:(0,t.jsxs)(y.ll,{className:"flex items-center gap-2",children:["data_dictionary_available"===i.status&&(0,t.jsx)(p.Z,{className:"h-5 w-5 text-green-500"}),"schema_extraction_needed"===i.status&&(0,t.jsx)(b,{className:"h-5 w-5 text-yellow-500"}),"database_not_configured"===i.status&&(0,t.jsx)(f,{className:"h-5 w-5 text-red-500"}),"rni_version_not_found"===i.status&&(0,t.jsx)(f,{className:"h-5 w-5 text-red-500"}),"Query Assistance Result"]})}),(0,t.jsxs)(y.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("p",{className:"font-medium",children:["Status: ",null===(e=i.status)||void 0===e?void 0:e.replace("_"," ")]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:i.message})]}),"data_dictionary_available"===i.status&&i.schemas_available&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Available Schemas:"}),(0,t.jsx)("div",{className:"space-y-2",children:i.schemas_available.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded",children:[(0,t.jsx)("span",{className:"font-medium",children:e.schema_name}),(0,t.jsxs)(N.C,{variant:"secondary",children:[e.table_count," tables"]})]},a))}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Data dictionary is available. You can proceed with your queries using the schema information."})]}),"schema_extraction_needed"===i.status&&i.extraction_query&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Schema Extraction Required"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-3",children:["No schema information is available. Run the following query on your ",i.database_type," database to extract the schema:"]}),(0,t.jsxs)("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg text-sm font-mono overflow-x-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("span",{className:"text-gray-400",children:["Extraction Query (",i.database_type,")"]}),(0,t.jsx)(g.z,{variant:"outline",onClick:()=>j(i.extraction_query),className:"h-6 px-2 text-xs",children:"Copy"})]}),(0,t.jsx)("pre",{className:"whitespace-pre-wrap",children:i.extraction_query})]}),(0,t.jsxs)("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded",children:[(0,t.jsx)("h5",{className:"font-medium text-blue-800",children:"Next Steps:"}),(0,t.jsxs)("ol",{className:"list-decimal list-inside text-sm text-blue-700 mt-1 space-y-1",children:[(0,t.jsx)("li",{children:"Copy the extraction query above"}),(0,t.jsxs)("li",{children:["Connect to your ",r," database server"]}),(0,t.jsx)("li",{children:"Execute the query in your SQL client"}),(0,t.jsx)("li",{children:"Export the results as a CSV file"}),(0,t.jsx)("li",{children:'Upload the CSV file using the "Upload Schema" button'})]}),(0,t.jsxs)("p",{className:"text-xs text-blue-600 mt-2",children:[(0,t.jsx)("strong",{children:"Note:"})," The system cannot access your database servers directly. You must run the query and upload the results manually."]})]})]}),"database_not_configured"===i.status&&(0,t.jsxs)("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded",children:[(0,t.jsx)("h5",{className:"font-medium text-orange-800",children:"Database Not Configured"}),(0,t.jsxs)("p",{className:"text-sm text-orange-700 mt-1",children:["The database ",r," is not configured for RNI version ",a,'. Please add it using the "Database Instances" tab first.']})]}),"rni_version_not_found"===i.status&&(0,t.jsxs)("div",{className:"p-3 bg-red-50 border border-red-200 rounded",children:[(0,t.jsx)("h5",{className:"font-medium text-red-800",children:"RNI Version Not Found"}),(0,t.jsxs)("p",{className:"text-sm text-red-700 mt-1",children:["RNI version ",a," was not found. Please check available versions in the dropdown."]})]})]})]}),(0,t.jsxs)(y.Zb,{children:[(0,t.jsx)(y.Ol,{children:(0,t.jsx)(y.ll,{className:"text-lg",children:"Sensus AMI Databases"})}),(0,t.jsx)(y.aY,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsx)("h4",{className:"font-semibold text-blue-600",children:"FlexnetDB (Microsoft SQL Server)"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Primary Sensus AMI database containing meter data, billing information, and infrastructure management."})]}),(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsx)("h4",{className:"font-semibold text-green-600",children:"AMDS (PostgreSQL)"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Advanced Metering Data System for real-time meter reading and data processing."})]}),(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsx)("h4",{className:"font-semibold text-green-600",children:"Router (PostgreSQL)"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Communication management database for AMI network routing and device connectivity."})]}),(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsx)("h4",{className:"font-semibold text-green-600",children:"FWDL (PostgreSQL)"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Firmware Download management system for device updates and version control."})]})]})})]})]})}T.displayName="Label"},5974:function(e,a,s){"use strict";s.d(a,{C:function(){return i}});var t=s(7437);s(2265);var n=s(535),r=s(4508);let l=(0,n.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:a,variant:s,...n}=e;return(0,t.jsx)("div",{className:(0,r.cn)(l({variant:s}),a),...n})}},2869:function(e,a,s){"use strict";s.d(a,{z:function(){return d}});var t=s(7437),n=s(2265),r=s(7495),l=s(535),i=s(4508);let c=(0,l.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,a)=>{let{className:s,variant:n,size:l,asChild:d=!1,...o}=e,u=d?r.g7:"button";return(0,t.jsx)(u,{className:(0,i.cn)(c({variant:n,size:l,className:s})),ref:a,...o})});d.displayName="Button"},6070:function(e,a,s){"use strict";s.d(a,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return l},aY:function(){return o},ll:function(){return c}});var t=s(7437),n=s(2265),r=s(4508);let l=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("rounded-xl border bg-card text-card-foreground shadow",s),...n})});l.displayName="Card";let i=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",s),...n})});i.displayName="CardHeader";let c=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("font-semibold leading-none tracking-tight",s),...n})});c.displayName="CardTitle";let d=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("text-sm text-muted-foreground",s),...n})});d.displayName="CardDescription";let o=n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("p-6 pt-0",s),...n})});o.displayName="CardContent",n.forwardRef((e,a)=>{let{className:s,...n}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("flex items-center p-6 pt-0",s),...n})}).displayName="CardFooter"},6110:function(e,a,s){"use strict";s.d(a,{$N:function(){return x},Be:function(){return p},Vq:function(){return i},cZ:function(){return m},fK:function(){return h},hg:function(){return u}});var t=s(7437),n=s(2265),r=s(2489),l=s(2869);let i=e=>{let{open:a,onOpenChange:s,children:r}=e,[l,i]=n.useState(a||!1);return n.useEffect(()=>{void 0!==a&&i(a)},[a]),(0,t.jsx)(d,{value:{open:l,onOpenChange:e=>{i(e),null==s||s(e)}},children:r})},c=n.createContext(null),d=c.Provider,o=()=>{let e=n.useContext(c);if(!e)throw Error("useDialog must be used within Dialog");return e},u=e=>{let{asChild:a,children:s}=e,{open:r,onOpenChange:i}=o(),c=()=>{i(!r)};return a?n.cloneElement(s,{onClick:c}):(0,t.jsx)(l.z,{onClick:c,children:s})},m=e=>{let{className:a="",children:s}=e,{open:n,onOpenChange:i}=o();return n?(0,t.jsxs)("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black/60",style:{zIndex:9998},onClick:()=>i(!1)}),(0,t.jsxs)("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 w-full max-w-xl mx-4",style:{zIndex:9999},children:[(0,t.jsx)(l.z,{variant:"ghost",size:"sm",className:"absolute right-2 top-2 p-1 h-6 w-6",onClick:()=>i(!1),children:(0,t.jsx)(r.Z,{className:"h-4 w-4"})}),s]})]}):null},h=e=>{let{children:a}=e;return(0,t.jsx)("div",{className:"mb-4",children:a})},x=e=>{let{children:a}=e;return(0,t.jsx)("h2",{className:"text-lg font-semibold",children:a})},p=e=>{let{children:a}=e;return(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:a})}},4508:function(e,a,s){"use strict";s.d(a,{cn:function(){return r}});var t=s(1994),n=s(3335);function r(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,n.m6)((0,t.W)(a))}},9205:function(e,a,s){"use strict";s.d(a,{Z:function(){return c}});var t=s(2265);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r=function(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return a.filter((e,a,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===a).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,t.forwardRef)((e,a)=>{let{color:s="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:d="",children:o,iconNode:u,...m}=e;return(0,t.createElement)("svg",{ref:a,...l,width:n,height:n,stroke:s,strokeWidth:c?24*Number(i)/Number(n):i,className:r("lucide",d),...m},[...u.map(e=>{let[a,s]=e;return(0,t.createElement)(a,s)}),...Array.isArray(o)?o:[o]])}),c=(e,a)=>{let s=(0,t.forwardRef)((s,l)=>{let{className:c,...d}=s;return(0,t.createElement)(i,{ref:l,iconNode:a,className:r("lucide-".concat(n(e)),c),...d})});return s.displayName="".concat(e),s}},1671:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(9205).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3247:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(9205).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8728:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(9205).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},7689:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(9205).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},2489:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(9205).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},function(e){e.O(0,[569,971,117,744],function(){return e(e.s=6008)}),_N_E=e.O()}]);