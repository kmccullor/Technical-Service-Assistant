(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[817],{4068:function(e,s,t){Promise.resolve().then(t.bind(t,4740))},4740:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return m}});var r=t(7437),l=t(2265),a=t(1817),n=t(7689),i=t(1671),c=t(2489);let o=(0,t(9205).Z)("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);var d=t(9322);let u=[".txt",".log",".csv",".json",".sql",".pdf",".xml",".conf",".config",".ini",".properties",".out",".err",".trace",".dump"];function x(e){let{onFileUploaded:s,onAnalysisResult:t}=e,[x,m]=(0,l.useState)(!1),[h,p]=(0,l.useState)(null),[f,y]=(0,l.useState)(!1),[g,j]=(0,l.useState)(!1),[b,N]=(0,l.useState)(null),[v,w]=(0,l.useState)(""),[k,C]=(0,l.useState)(null),A=(0,l.useRef)(null),Z=e=>{if(e.size>10485760)return"File size exceeds ".concat(10,"MB limit");let s=e.name.toLowerCase().substring(e.name.lastIndexOf("."));return u.includes(s)?null:"File type not supported. Allowed: ".concat(u.join(", "))},S=async e=>{let t=Z(e);if(t){N(t);return}y(!0),N(null);try{let t=new FormData;t.append("file",e);let r=await fetch("/api/temp-upload",{method:"POST",body:t}),l=await r.json();if(!l.success)throw Error(l.error||"Upload failed");let a={sessionId:l.sessionId,fileName:l.fileName,fileSize:l.fileSize,uploadTime:new Date().toISOString()};p(a),null==s||s(a)}catch(e){console.error("Upload error:",e),N(e instanceof Error?e.message:"Upload failed")}finally{y(!1)}},z=e=>{e&&0!==e.length&&S(e[0])},E=(0,l.useCallback)(e=>{e.preventDefault(),m(!0)},[]),M=(0,l.useCallback)(e=>{e.preventDefault(),m(!1)},[]),D=(0,l.useCallback)(e=>{e.preventDefault(),m(!1),z(e.dataTransfer.files)},[]),F=async()=>{if(h&&v.trim()){j(!0),N(null);try{let e=await fetch("/api/temp-analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:h.sessionId,query:v.trim(),maxResults:5})}),s=await e.json();if(e.ok)C(s),null==t||t(s);else throw Error(s.error||"Analysis failed")}catch(e){console.error("Analysis error:",e),N(e instanceof Error?e.message:"Analysis failed")}finally{j(!1)}}};return(0,r.jsxs)("div",{className:"w-full max-w-2xl mx-auto p-6 space-y-6",children:[!h&&(0,r.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-8 text-center transition-colors ".concat(x?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"),onDragOver:E,onDragLeave:M,onDrop:D,children:[(0,r.jsx)("input",{ref:A,type:"file",className:"hidden",accept:u.join(","),onChange:e=>z(e.target.files)}),f?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(a.Z,{className:"h-12 w-12 mx-auto text-blue-500 animate-spin"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Uploading file..."})]}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(n.Z,{className:"h-12 w-12 mx-auto text-gray-400"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-lg font-medium text-gray-900",children:"Upload Document for Analysis"}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Drag and drop a file here, or"," ",(0,r.jsx)("button",{onClick:()=>{var e;return null===(e=A.current)||void 0===e?void 0:e.click()},className:"text-blue-500 hover:text-blue-600 font-medium",children:"browse to upload"})]})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-400 space-y-1",children:[(0,r.jsxs)("p",{children:["Supported: ",u.slice(0,6).join(", "),"..."]}),(0,r.jsx)("p",{children:"Max size: 10MB"})]})]})]}),h&&(0,r.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(i.Z,{className:"h-5 w-5 text-green-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-green-900",children:h.fileName}),(0,r.jsxs)("p",{className:"text-sm text-green-600",children:[(e=>{if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(1))+" "+["Bytes","KB","MB"][s]})(h.fileSize)," • Uploaded successfully"]})]})]}),(0,r.jsx)("button",{onClick:()=>{p(null),w(""),C(null),N(null),A.current&&(A.current.value="")},className:"text-gray-400 hover:text-gray-600",children:(0,r.jsx)(c.Z,{className:"h-5 w-5"})})]})}),h&&(0,r.jsx)("div",{className:"space-y-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ask a question about the document:"}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("input",{type:"text",value:v,onChange:e=>w(e.target.value),placeholder:"e.g., What errors are reported in this log?",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyDown:e=>"Enter"===e.key&&F()}),(0,r.jsxs)("button",{onClick:F,disabled:!v.trim()||g,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[g?(0,r.jsx)(a.Z,{className:"h-4 w-4 animate-spin"}):(0,r.jsx)(o,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:g?"Analyzing...":"Analyze"})]})]})]})}),b&&(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start space-x-3",children:[(0,r.jsx)(d.Z,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-red-900",children:"Error"}),(0,r.jsx)("p",{className:"text-sm text-red-600",children:b})]})]}),k&&(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 space-y-4",children:[(0,r.jsxs)("div",{className:"border-b pb-3",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Analysis Results"}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Confidence: ",(100*k.confidence).toFixed(1),"%"]})]}),(0,r.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,r.jsxs)("div",{className:"bg-gray-50 rounded p-4",children:[(0,r.jsx)("p",{className:"font-medium text-gray-700 mb-2",children:"Technical Analysis:"}),(0,r.jsx)("div",{className:"whitespace-pre-wrap text-gray-800",children:k.response})]})}),k.results&&k.results.length>0&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h4",{className:"font-medium text-gray-700",children:"Relevant Sections:"}),k.results.map((e,s)=>(0,r.jsxs)("div",{className:"bg-gray-50 rounded p-3 text-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,r.jsxs)("span",{className:"font-medium text-gray-600",children:["Section ",e.rank]}),(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:[(100*e.similarity).toFixed(1),"% match"]})]}),(0,r.jsx)("p",{className:"text-gray-700",children:e.content})]},s))]})]})]})}function m(){return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"text-center mb-12",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Document Analysis Tool"}),(0,r.jsx)("p",{className:"mt-4 text-lg text-gray-600",children:"Upload logs, configuration files, query results, or technical documents for immediate AI-powered analysis"})]}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:(0,r.jsx)(x,{onFileUploaded:e=>{console.log("File uploaded:",e)},onAnalysisResult:e=>{console.log("Analysis result:",e)}})}),(0,r.jsxs)("div",{className:"mt-8 bg-blue-50 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-blue-900 mb-3",children:"Perfect for Troubleshooting"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 text-sm text-blue-800",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium mb-2",children:"Supported File Types:"}),(0,r.jsxs)("ul",{className:"space-y-1",children:[(0,r.jsx)("li",{children:"• Log files (.log, .out, .err, .trace)"}),(0,r.jsx)("li",{children:"• Configuration files (.conf, .config, .ini)"}),(0,r.jsx)("li",{children:"• Query results (.csv, .json, .sql)"}),(0,r.jsx)("li",{children:"• Technical documents (.pdf, .txt)"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium mb-2",children:"Use Cases:"}),(0,r.jsxs)("ul",{className:"space-y-1",children:[(0,r.jsx)("li",{children:"• Analyze error logs for root causes"}),(0,r.jsx)("li",{children:"• Review configuration settings"}),(0,r.jsx)("li",{children:"• Examine database query results"}),(0,r.jsx)("li",{children:"• Extract insights from technical docs"})]})]})]}),(0,r.jsxs)("div",{className:"mt-4 p-3 bg-blue-100 rounded text-sm text-blue-800",children:[(0,r.jsx)("strong",{children:"Privacy Note:"})," Files are processed temporarily and automatically deleted after 2 hours. No data is permanently stored."]})]})]})})}},9205:function(e,s,t){"use strict";t.d(s,{Z:function(){return c}});var r=t(2265);let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,r.forwardRef)((e,s)=>{let{color:t="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:o="",children:d,iconNode:u,...x}=e;return(0,r.createElement)("svg",{ref:s,...n,width:l,height:l,stroke:t,strokeWidth:c?24*Number(i)/Number(l):i,className:a("lucide",o),...x},[...u.map(e=>{let[s,t]=e;return(0,r.createElement)(s,t)}),...Array.isArray(d)?d:[d]])}),c=(e,s)=>{let t=(0,r.forwardRef)((t,n)=>{let{className:c,...o}=t;return(0,r.createElement)(i,{ref:n,iconNode:s,className:a("lucide-".concat(l(e)),c),...o})});return t.displayName="".concat(e),t}},9322:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},1671:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1817:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},7689:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},2489:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},function(e){e.O(0,[971,117,744],function(){return e(e.s=4068)}),_N_E=e.O()}]);