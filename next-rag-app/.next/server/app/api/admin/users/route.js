"use strict";(()=>{var e={};e.id=2628,e.ids=[2628],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2699:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>_,patchFetch:()=>f,requestAsyncStorage:()=>m,routeModule:()=>p,serverHooks:()=>h,staticGenerationAsyncStorage:()=>c});var r={};a.r(r),a.d(r,{GET:()=>d,POST:()=>l});var s=a(9303),i=a(8716),n=a(670),o=a(7070);let u=process.env.RERANKER_BASE_URL||"http://reranker:8008";async function d(e){try{let t=e.headers.get("authorization")||"",a=e.nextUrl.searchParams.toString(),r=await fetch(`${u}/api/admin/users${a?`?${a}`:""}`,{method:"GET",headers:{Authorization:t}}),s=await r.text(),i=null;try{i=JSON.parse(s)}catch(e){}if(r.ok&&i&&i.items){let e={users:i.items.map(e=>({id:e.id,email:e.email,full_name:`${e.first_name||""} ${e.last_name||""}`.trim()||e.email.split("@")[0],role_id:e.role_id,role_name:e.role_name,status:e.status,verified:e.verified,created_at:e.created_at,updated_at:e.updated_at})),total:i.total,page:Math.floor(i.offset/i.limit)+1,page_size:i.limit};return o.NextResponse.json(e,{status:r.status})}return o.NextResponse.json(i??{detail:s||"Admin users failed"},{status:r.status})}catch(e){return o.NextResponse.json({detail:"Admin users proxy error",error:e?.message},{status:500})}}async function l(e){try{let t=e.headers.get("authorization")||"",a=await e.json().catch(()=>({})),r=await fetch(`${u}/api/auth/register`,{method:"POST",headers:{Authorization:t,"Content-Type":"application/json"},body:JSON.stringify(a)}),s=await r.text(),i=null;try{i=JSON.parse(s)}catch(e){}if(r.ok&&i){let e={id:i.id,email:i.email,full_name:`${i.first_name||""} ${i.last_name||""}`.trim()||i.email.split("@")[0],role_id:i.role_id,role_name:i.role_name,status:i.status,verified:i.verified,created_at:i.created_at,updated_at:i.updated_at};return o.NextResponse.json(e,{status:r.status})}return o.NextResponse.json(i??{detail:s||"Create user failed"},{status:r.status})}catch(e){return o.NextResponse.json({detail:"Create user proxy error",error:e?.message},{status:500})}}let p=new s.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/admin/users/route",pathname:"/api/admin/users",filename:"route",bundlePath:"app/api/admin/users/route"},resolvedPagePath:"/home/kmccullor/Projects/Technical-Service-Assistant/next-rag-app/app/api/admin/users/route.ts",nextConfigOutput:"standalone",userland:r}),{requestAsyncStorage:m,staticGenerationAsyncStorage:c,serverHooks:h}=p,_="/api/admin/users/route";function f(){return(0,n.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:c})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[8948,5972],()=>a(2699));module.exports=r})();